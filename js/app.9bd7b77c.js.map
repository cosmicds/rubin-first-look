{"version":3,"file":"js/app.9bd7b77c.js","mappings":"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","sources":["webpack://@cosmicds/rubin-first-look/./src/composables/useFullscreen.ts","webpack://@cosmicds/rubin-first-look/./plugins/vuetify.ts","webpack://@cosmicds/rubin-first-look/./src/composables/useTrackedElements.ts","webpack://@cosmicds/rubin-first-look/./src/wwt-hacks.ts","webpack://@cosmicds/rubin-first-look/./src/RubinFirstLook.vue?803b","webpack://@cosmicds/rubin-first-look/./src/RubinFirstLook.vue","webpack://@cosmicds/rubin-first-look/./src/RubinFirstLook.vue?3430","webpack://@cosmicds/rubin-first-look/./src/components/FolderView.vue?f5a1","webpack://@cosmicds/rubin-first-look/./src/components/FolderView.vue","webpack://@cosmicds/rubin-first-look/./src/components/FolderView.vue?1114","webpack://@cosmicds/rubin-first-look/./src/components/ExpansionWrapper.vue?bc40","webpack://@cosmicds/rubin-first-look/./src/components/ExpansionWrapper.vue","webpack://@cosmicds/rubin-first-look/./src/components/ExpansionWrapper.vue?56b7","webpack://@cosmicds/rubin-first-look/./src/components/Infobox.vue?c15b","webpack://@cosmicds/rubin-first-look/./src/components/Infobox.vue","webpack://@cosmicds/rubin-first-look/./src/components/Infobox.vue?8537","webpack://@cosmicds/rubin-first-look/./src/components/Scalebar.vue?b9b2","webpack://@cosmicds/rubin-first-look/./src/components/Scalebar.vue","webpack://@cosmicds/rubin-first-look/./src/components/Scalebar.vue?d318","webpack://@cosmicds/rubin-first-look/./src/components/SplashScreen.vue?7db6","webpack://@cosmicds/rubin-first-look/./src/components/SplashScreen.vue","webpack://@cosmicds/rubin-first-look/./src/components/SplashScreen.vue?7107","webpack://@cosmicds/rubin-first-look/./src/components/WWTTrackedContent.vue?d7aa","webpack://@cosmicds/rubin-first-look/./src/components/WWTTrackedContent.vue","webpack://@cosmicds/rubin-first-look/./src/components/WWTTrackedContent.vue?46dc","webpack://@cosmicds/rubin-first-look/./src/main.ts","webpack://@cosmicds/rubin-first-look/webpack/bootstrap","webpack://@cosmicds/rubin-first-look/webpack/runtime/chunk loaded","webpack://@cosmicds/rubin-first-look/webpack/runtime/define property getters","webpack://@cosmicds/rubin-first-look/webpack/runtime/global","webpack://@cosmicds/rubin-first-look/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/rubin-first-look/webpack/runtime/make namespace object","webpack://@cosmicds/rubin-first-look/webpack/runtime/publicPath","webpack://@cosmicds/rubin-first-look/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/rubin-first-look/webpack/startup"],"sourcesContent":["import { ref, onMounted, onUnmounted, watch, Ref } from \"vue\";\nimport screenfull from \"screenfull\";\n\n/**\n  * A composable that encapsulates fullscreen behavior.\n  * @returns A reactive variable indicating whether or not fullscreen mode is active\n  */ \nexport function useFullscreen(): Ref<boolean> {\n  const fullscreenModeActive = ref(false);\n  function update(_event: Event) {\n    fullscreenModeActive.value = screenfull.isFullscreen;\n  }\n\n  onMounted(() => {\n    if (screenfull.isEnabled) {\n      screenfull.on(\"change\", update);\n    }\n  });\n\n  onUnmounted(() => {\n    if (screenfull.isEnabled) {\n      screenfull.off(\"change\", update);\n    }\n  });\n\n  watch(fullscreenModeActive, (active: boolean) => {\n    if (active) {\n      screenfull.request();\n    } else {\n      screenfull.exit();\n    }\n  });\n\n  return fullscreenModeActive;\n}\n","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\n// Rubin Specific Colors\nexport const RUBIN_COLORS = {\n  'rubin-turquoise': '#00BABC', // on light and dark backgrounds\n  'rubin-teal': '#058B8C', // on light and dark backgrounds\n  'rubin-charcoal': '#313333', // on light backgrounds\n  'rubin-off-white': '#F5F5F5', // on dark backgrounds\n  'rubin-purple': '#583671',\n  'rubin-highlight-gold': '#C4A447',\n  'rubin-gray-1': '#DcE0E3',\n  'rubin-gray-2': '#6a6E6E',\n  'rubin-deep-charcoal': \"#1F2121\",\n  'rubin-teal-1': '#D9F7F6',\n  'rubin-teal-2': '#B1F2EF',\n  'rubin-teal-3': '#009FA1',\n  'rubin-teal-4': '#12726D',\n  'rubin-teal-5': '#0C4A47',\n  'rubin-teal-6': '#062E2C',\n  'rubin-teal-7': '#021A18',\n} as const;\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    // See https://rubin.canto.com/g/RubinVisualIdentity/index?viewIndex=0\n\n    defaultTheme: 'rubinA',\n    themes: {\n      rubinA: {\n        dark: true,\n        colors: {\n          // Core brand colors\n          // Lighter button color\n          primaryVariant: RUBIN_COLORS['rubin-turquoise'],\n          // Darker accent color\n          primary: RUBIN_COLORS['rubin-teal'],\n\n          // Surface and backgrounds\n          // Main \"v-application\" background color\n          background: RUBIN_COLORS['rubin-deep-charcoal'],\n          // Info Drawer background color (set by Vuetify default)\n          surface: RUBIN_COLORS['rubin-deep-charcoal'],\n\n          // Thumbnail background color\n          info: RUBIN_COLORS['rubin-charcoal'],\n\n          // Thumbnail highlight color\n          accent: RUBIN_COLORS['rubin-highlight-gold'],\n\n          // \"On-color\" colors. These are only used by default on Vuetify components.\n          // when you have set the color using color=\"blah\", then the text color\n          // will be \"on-blah\".\n          \"on-surface\": RUBIN_COLORS['rubin-off-white'],\n          \"on-background\": RUBIN_COLORS['rubin-off-white'],\n          \"on-primary\": RUBIN_COLORS['rubin-off-white'],\n\n          // Custom properties\n          // Infobox background color\n          \"surface-variant\": RUBIN_COLORS['rubin-deep-charcoal'],\n          \"on-surface-variant\": RUBIN_COLORS['rubin-off-white'],\n\n          ...RUBIN_COLORS,\n        },\n      },\n      // TODO: This is the same as B right now\n      rubinB: {\n        dark: true,\n        colors: {\n          // Core brand colors\n          // Button color\n          primaryVariant: RUBIN_COLORS['rubin-turquoise'],\n          // Accent color\n          primary: RUBIN_COLORS['rubin-charcoal'],\n\n          // Surface and backgrounds\n          // Main \"v-application\" background color\n          background: RUBIN_COLORS['rubin-deep-charcoal'],\n          // Info Drawer background color (set by Vuetify default)\n          surface: RUBIN_COLORS['rubin-deep-charcoal'],\n\n          // Thumbnail background color\n          info: RUBIN_COLORS['rubin-teal'],\n\n          // Thumbnail highlight color\n          accent: RUBIN_COLORS['rubin-highlight-gold'],\n          \n          // \"On-color\" colors. These are only used by default on Vuetify components.\n          // when you have set the color using color=\"blah\", then the text color\n          // will be \"on-blah\".\n          \"on-surface\": RUBIN_COLORS['rubin-off-white'],\n          \"on-background\": RUBIN_COLORS['rubin-off-white'],\n          \"on-primary\": RUBIN_COLORS['rubin-off-white'],\n\n          // Custom properties\n          // Infobox background color\n          \"surface-variant\": RUBIN_COLORS['rubin-deep-charcoal'],\n          \"on-surface-variant\": RUBIN_COLORS['rubin-off-white'],\n\n          ...RUBIN_COLORS,\n        }\n      }\n    },\n  },\n});\n\n\n\n// Export for test.\n//export { components, directives };\n","import { ref, watch, onUnmounted, onMounted, type Ref, computed, toValue, toRef } from 'vue';\nimport { WWTControl } from '@wwtelescope/engine';\nimport { engineStore } from '@wwtelescope/engine-pinia';\ninterface WWTEngineStore extends ReturnType<typeof engineStore> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  $wwt?: any;\n}\n\nexport type ScreenLoc = { x: number; y: number };\n\ntype BoundingClientRect = {\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n};\n\nexport function checkPointContainedByDiv(point: { x: number; y: number }, divRect: BoundingClientRect | null = null): boolean {\n  if (divRect) {\n    return (\n      point.x >= divRect.left &&\n      point.x <= divRect.right &&\n      point.y >= divRect.top &&\n      point.y <= divRect.bottom\n    );\n  }\n  return point.x >= 0 && point.x <= window.innerWidth && point.y >= 0 && point.y <= window.innerHeight;\n}\n\n\n// Element Creation\nfunction resolveElement(el: HTMLElement | string | null): HTMLElement | null {\n  if (el === null) return null;\n  if (typeof el === 'string') {\n    const foundElement = document.getElementById(el);\n    if (foundElement) {\n      return foundElement;\n    } else {\n      console.warn(`Element with ID '${el}' not found.`);\n      return null;\n    }\n  }\n  if (el instanceof HTMLElement) {\n    return el;\n  }\n  console.warn('Provided element is not a valid HTMLElement or string ID.');\n  return null;\n}\n  \n  \nexport type Degree = number;\nexport type Radian = number;\nexport type HourAngle = number;\n\nexport type LocationDegrees = {\n  ra: Degree;\n  dec: Degree;\n};\n\nexport type ScreenPosition = {\n  x: number;\n  y: number;\n};\n\nexport type TrackedElementData = LocationDegrees & Record<string, string | number> & {ra: Degree; dec: Degree};\n\nexport interface TrackedHTMLElement extends HTMLElement {\n  trackedData: TrackedElementData;\n  move: (pt: LocationDegrees) => void;\n}\n\nexport type UseTrackedElementsReturn = {\n  trackedElements: Ref<TrackedHTMLElement[]>;\n  createTrackedElement: (pt: TrackedElementData, tag?: string, name?: string) => TrackedHTMLElement;\n  removeTrackedElement: (el: TrackedHTMLElement) => void;\n  updateElements: () => void;\n  addTrackedElement: (element: TrackedHTMLElement) => void;\n  updateOffScreenElements: Ref<boolean>;\n  getScreenPositionAndVisibility: (el: TrackedHTMLElement) => [ScreenPosition, boolean];\n  placeElement: (_el: HTMLElement | string | null, pt: LocationDegrees, name: string) => TrackedHTMLElement;\n  getMarkerLayer: () => HTMLElement | null;\n  hideElementByName: (name: string) => void;\n  showElementByName: (name: string) => void;\n  moveElementByName: (name: string, pt: LocationDegrees) => void;\n};\n\nlet wwtReady = false;\nasync function waitForWWTReady(store: WWTEngineStore): Promise<void> {\n  if (wwtReady) {\n    return;\n  }\n  return store.waitForReady().then(() => {\n    WWTControl.singleton.renderOneFrame();\n    wwtReady = true;\n  });\n}\n\nexport function useTrackedPosition(_ra: Ref<Degree> | Degree, _dec: Ref<Degree> | Degree, store: WWTEngineStore)  {\n  const ready = ref(false);\n  const resizeObserver = ref<ResizeObserver | null>(null);\n  \n  waitForWWTReady(store).then(() => {\n    ready.value = true;\n    updatePosition = () => {\n      if (!ready.value) {\n        console.warn('WWT Engine is not ready yet.');\n        return;\n      }\n      screenPoint.value = store.findScreenPointForRADec(worldPoint.value);\n    };\n    \n    const parentElement = store.$wwt.inst.ctl.canvas.parentElement as HTMLElement;\n    if (parentElement) {\n      resizeObserver.value = new ResizeObserver(() => {\n        updatePosition();\n      });\n      resizeObserver.value.observe(parentElement);\n    }\n    \n  });\n  \n  onUnmounted(() => {\n    resizeObserver.value?.disconnect();\n  });\n  \n  const ra = toRef(_ra) as Ref<Degree>;\n  const dec = toRef(_dec) as Ref<Degree>;\n  \n  const worldPoint = computed(() => {\n    return { ra: toValue(ra) as Degree, dec: toValue(dec) as Degree };\n  });\n  \n  const toRad = ({ ra, dec }: LocationDegrees): { ra: Radian; dec: Radian } => {\n    return {\n      ra: (ra * Math.PI) / 180 as Radian,\n      dec: (dec * Math.PI) / 180 as Radian,\n    };\n  };\n  \n  const worldPointRad = computed(() => toRad(worldPoint.value));\n  \n  \n  const screenPoint = ref<ScreenPosition>({ x: 0, y: 0 });\n\n  let updatePosition = () => {\n    console.warn('WWT Engine is not ready yet.');\n  };\n\n  watch(() => [store.raRad, store.decRad, store.zoomDeg, store.rollRad], () => {\n    updatePosition();\n  });\n  \n  watch([ra, dec], () => {\n    console.log(`Updating position for RA: ${ra.value}, Dec: ${dec.value}`);\n    updatePosition();\n  });\n  \n  \n  updatePosition();\n \n  return { screenPoint, worldPoint, worldPointRad, ra, dec };\n}\n\n/**\n * Sets up and manages tracked HTML elements that move with the WWT frame.\n */\nlet instance: UseTrackedElementsReturn | null = null;\nexport function useTrackedElements(parentID: string | null, store: WWTEngineStore): UseTrackedElementsReturn {\n  if (instance) {\n    return instance as UseTrackedElementsReturn;\n  }\n  // WWT setup\n  const parentElement = ref<HTMLElement | null>(null);\n  const ready = ref(false);\n  const trackedElements = ref<TrackedHTMLElement[]>([]);\n  const parentElementRect = ref(null as DOMRect | null);\n  const resizeObserver = ref(null as ResizeObserver | null);\n  const updateOffScreenElements = ref(false);\n\n  const elementVisibilityCache = new Map<string, 'hidden' | 'visible'>();\n  const observer = new MutationObserver(() => {\n    elementVisibilityCache.forEach((visibility, name) => {\n      const el = getElementByName(name);\n      if (el) {\n        el.style.visibility = visibility;\n        elementVisibilityCache.delete(name);\n      }\n    });\n  });\n\n  function initializeParentElement() {\n    if (parentID !== null && parentID !== '') {\n      const element = document.getElementById(parentID);\n      if (element) {\n        parentElement.value = element as HTMLElement;\n        return;\n      }\n    }\n    console.error(`Element with ID '${parentID}' does not exist.`);\n    parentElement.value = store.$wwt.inst.ctl.canvas.parentElement as HTMLElement;\n  }\n\n  \n  function getMarkerLayer(): HTMLElement | null {\n    return parentElement.value as HTMLElement ?? null;\n  }\n\n  const addTrackedElement = (element: TrackedHTMLElement) => {\n    trackedElements.value.push(element);\n  };\n  \n  function applyUniformStyles(el: TrackedHTMLElement) {\n    el.style.position = 'absolute';\n    el.style.transformOrigin = 'center center';\n    el.move = (pt: LocationDegrees) => {\n      if (!ready.value) {\n        console.warn('WWT Engine is not ready yet.');\n        return;\n      }\n      el.trackedData.ra = pt.ra;\n      el.trackedData.dec = pt.dec;\n      const screenPos = store.findScreenPointForRADec(pt);\n      updateElementScreenPosition(el as TrackedHTMLElement, screenPos);\n    };\n    \n  }\n\n  /**\n   * Places an HTML element at a specified RA/Dec location.\n   * @param _el {HTMLElement | string | null} The ID for the element (or the element itself).\n   * @param pt {ra: Degree, dec: Degree, ....} Other values will be added to the elements trackedData attribute\n   */\n  function placeElement(_el: HTMLElement | string | null, pt: TrackedElementData, name: string): TrackedHTMLElement {\n    const el = resolveElement(_el) as TrackedHTMLElement;\n    if (el === null) {\n      console.warn('Element is null, cannot place it.');\n      return null as unknown as TrackedHTMLElement;\n    }\n\n    applyUniformStyles(el);\n\n    el.classList.add('tracked-element');\n    el.trackedData = pt as TrackedElementData;\n    el.dataset.name = name;\n\n    addTrackedElement(el);\n\n    return el;\n  } \n\n  function _createElement(pt: { x: number, y: number }, tag = \"div\"): HTMLElement {\n    const marker = document.createElement(tag);\n    applyUniformStyles(marker as TrackedHTMLElement);\n    marker.style.left = `${pt.x}px`;\n    marker.style.top = `${pt.y}px`;\n    return marker;\n  }\n\n  /**\n   * Creates a new tracked HTML element at a specified RA/Dec location.\n   * @param pt {ra: Degree, dec: Degree, ...} The RA/Dec location of the element.\n   * @param tag {string} The HTML tag to use for the element (default is 'div').\n   * @param name {string} An optional name for the element, used to create a custom CSS class.\n   */\n  function createTrackedElement(pt: TrackedElementData, tag = 'div', name = ''): TrackedHTMLElement {\n    \n    const element = _createElement({ x: 0, y: 0 }, tag) as TrackedHTMLElement;\n    element.classList.add('tracked-element');\n\n    if (name) {\n      element.dataset.name = name;\n      const validName = name.replace(/[^a-zA-Z0-9-_]/g, ''); // sanitize name for CSS class usage\n      \n      element.classList.add(`tracked-element__${validName}`);\n    }\n\n    element.trackedData = pt;\n\n    addTrackedElement(element);\n    return element;\n  }\n\n  // Element Updating\n\n  /**\n   * Updates the screen position of a tracked element.\n   */\n  function updateElementScreenPosition(el: TrackedHTMLElement, screenPos: ScreenPosition) {\n    el.style.left = `${screenPos.x}px`;\n    el.style.top = `${screenPos.y}px`;\n    el.dataset.screenX = screenPos.x.toString();\n    el.dataset.screenY = screenPos.y.toString();\n  }\n\n  /**\n   * Checks if a tracked element is visible on the screen and returns its screen position.\n   */\n  function getScreenPositionAndVisibility(el: TrackedHTMLElement): [ScreenPosition, boolean] {\n    const screen = store.findScreenPointForRADec({ra: el.trackedData.ra, dec: el.trackedData.dec});\n    const visible = checkPointContainedByDiv(screen, parentElementRect.value);\n    return [screen, visible];\n  }\n\n  /**\n   * Updates the screen positions of all tracked elements, hiding those that are off-screen.\n   */\n  function updateElements() {\n    if (!ready.value || parentElement.value === null) {\n      console.warn('WWT Engine is not ready or parent element is not set.');\n      return;\n    }\n    \n    trackedElements.value.forEach((el) => {\n      const [screenPos, onscreen] = getScreenPositionAndVisibility(el as TrackedHTMLElement);\n\n      if (onscreen || updateOffScreenElements.value) {\n        updateElementScreenPosition(el as TrackedHTMLElement, screenPos);\n      }\n      el.style.display = onscreen ? 'block' : 'none';\n    });\n  }\n\n  /**\n   * Removes a tracked element from the list and from the DOM.\n   */\n  function removeTrackedElement(el: TrackedHTMLElement) {\n    const index = trackedElements.value.indexOf(el);\n    if (index > -1) {\n      trackedElements.value.splice(index, 1);\n    }\n    el.remove();\n  }\n\n  \n\n  function getElementByName(name: string): TrackedHTMLElement | null {\n    return trackedElements.value.find((el) => el.dataset.name === name) as TrackedHTMLElement || null;\n  }\n\n  function hideElementByName(name: string) {\n    const el = getElementByName(name);\n    if (el) {\n      el.style.visibility = 'hidden';\n    } else {\n      elementVisibilityCache.set(name, 'hidden');\n    }\n  }\n\n  function showElementByName(name: string) {\n    const el = getElementByName(name);\n    if (el) {\n      el.style.visibility = 'visible';\n    } else {\n      elementVisibilityCache.set(name, 'visible');\n    }\n  }\n  \n  function moveElementByName(name: string, pt: LocationDegrees) {\n    const el = getElementByName(name);\n    if (el) {\n      const screenPos = store.findScreenPointForRADec(pt);\n      updateElementScreenPosition(el, screenPos);\n    } else {\n      console.warn(`Element with name '${name}' not found.`);\n    }\n  }\n\n  // Watchers, Lifecycle, and Cleanup\n\n  watch(parentElement, (newElement) => {\n    if (newElement) {\n      parentElementRect.value = newElement.getBoundingClientRect();\n    }\n  });\n  \n  watch(ready, updateElements);\n  watch(() => [store.raRad, store.decRad, store.zoomDeg, store.rollRad], updateElements);\n  watch(parentElementRect, updateElements);\n  watch(updateOffScreenElements, updateElements);\n\n  onMounted(() => {\n    waitForWWTReady(store).then(() => {\n\n      // 1. Make sure we have a parent element\n      initializeParentElement();\n      \n      // 2. Set up the Resize Observer\n      if (parentElement.value !== null) {\n        resizeObserver.value = new ResizeObserver(() => {\n          if (parentElement.value === null) return;\n          parentElementRect.value = parentElement.value.getBoundingClientRect();\n        });\n        if (resizeObserver.value) {\n          resizeObserver.value.observe(parentElement.value as HTMLElement);\n        }\n        ready.value = true;\n      }\n      \n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n\n  onUnmounted(() => {\n    resizeObserver.value?.disconnect();\n    trackedElements.value.forEach((el) => el.remove());\n    observer.disconnect();\n  });\n\n  instance = {\n    trackedElements: trackedElements as Ref<TrackedHTMLElement[]>,\n    createTrackedElement,\n    removeTrackedElement,\n    updateElements,\n    addTrackedElement,\n    updateOffScreenElements,\n    getScreenPositionAndVisibility,\n    placeElement,\n    getMarkerLayer,\n    hideElementByName,\n    showElementByName,\n    moveElementByName,\n  };\n  \n  return instance;\n}\n","\nimport { Place, CameraParameters } from \"@wwtelescope/engine\";\nimport { Classification, ImageSetType, SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\ninterface Place2 extends Place {\n  createCameraParams(\n    name: string,\n    camParams: CameraParameters,\n    classification: Classification,\n    constellation: string,\n    type: ImageSetType,\n    target: SolarSystemObjects\n  ): Place;\n}\n\nexport function copyPlace(originalPlace: Place): Place {\n  // Create a new Place object using the original's properties\n  const copiedPlace = (Place as unknown as Place2).createCameraParams(\n    originalPlace.get_name(),\n    originalPlace.get_camParams().copy(), // Copy camera parameters\n    originalPlace.get_classification(),\n    originalPlace.get_constellation(),\n    originalPlace.get_type(), // Ensure get_type is called correctly\n    originalPlace.get_target() // Ensure get_target is called correctly\n  );\n\n  // Copy additional properties\n  copiedPlace.set_zoomLevel(originalPlace.get_zoomLevel());\n  copiedPlace.set_studyImageset(originalPlace.get_studyImageset());\n  copiedPlace.set_backgroundImageset(originalPlace.get_backgroundImageset());\n  copiedPlace.set_annotation(originalPlace.get_annotation());\n  copiedPlace.set_magnitude(originalPlace.get_magnitude());\n  copiedPlace.set_distance(originalPlace.get_distance());\n  copiedPlace.set_lat(originalPlace.get_lat());\n  copiedPlace.set_lng(originalPlace.get_lng());\n  copiedPlace.set_opacity(originalPlace.get_opacity());\n\n  return copiedPlace;\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, toHandlers as _toHandlers, mergeProps as _mergeProps, createElementVNode as _createElementVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, withKeys as _withKeys, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, createTextVNode as _createTextVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_3 = { id: \"top-content\" }\nconst _hoisted_4 = { id: \"left-buttons\" }\nconst _hoisted_5 = { class: \"fv-header\" }\nconst _hoisted_6 = { id: \"center-buttons\" }\nconst _hoisted_7 = { id: \"right-buttons\" }\nconst _hoisted_8 = { key: 0 }\nconst _hoisted_9 = { key: 1 }\nconst _hoisted_10 = { id: \"options\" }\nconst _hoisted_11 = { id: \"options-top-row\" }\nconst _hoisted_12 = {\n  key: 0,\n  id: \"options-content\"\n}\nconst _hoisted_13 = { id: \"bottom-content\" }\nconst _hoisted_14 = {\n  key: 0,\n  id: \"body-logos\"\n}\nconst _hoisted_15 = {\n  key: 0,\n  id: \"coming-soon\"\n}\nconst _hoisted_16 = { class: \"video-wrapper\" }\nconst _hoisted_17 = { class: \"text-list mx-5\" }\nconst _hoisted_18 = { key: 0 }\nconst _hoisted_19 = { class: \"text-list mx-5\" }\n\nimport { storeToRefs } from \"pinia\";\nimport { ref, reactive, computed, watch, onMounted, nextTick } from \"vue\";\nimport { useFullscreen } from \"./composables/useFullscreen\";\nimport { D2R, H2R, distance } from \"@wwtelescope/astro\";\nimport { Circle, Folder, Imageset, Place, WWTControl } from \"@wwtelescope/engine\";\nimport { ImageSetType, Thumbnail } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls } from \"@cosmicds/vue-toolkit\";\nimport { RUBIN_COLORS } from \"../plugins/vuetify\";\nimport { useDisplay, useTheme } from \"vuetify\";\nimport { type ItemSelectionType } from \"./types\";\n\nimport { useTrackedElements } from \"./composables/useTrackedElements\";\nimport { copyPlace } from \"./wwt-hacks\";\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface RubinFirstLookProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst imageAPlacesURL = \"https://data1.wwtassets.org/noirlab2521a/a_places.wtml\";\nconst imageBPlacesURL= \"https://data1.wwtassets.org/noirlab2521b/b_places.wtml\";\ntype Mode = \"a\" | \"b\";\nconst INFOBOX_ZOOM_CUTOFF = 25;\nconst SMALL_LABELS_ZOOM = 25;\ninterface Offset {\n  raOff: number;\n  decOff: number;\n  rollDeg?: number; // then name of the top-level\n}\n\ntype OffsetRecords = Record<string, Offset>;\nconst infoFraction = 34;\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'RubinFirstLook',\n  props: {\n    wwtNamespace: { default: \"rubin-first-look\" },\n    initialCameraParams: {}\n  },\n  setup(__props: any) {\n\nconst store = engineStore();\nconst { raRad, decRad, zoomDeg } = storeToRefs(store);\n\nuseWWTKeyboardControls(store);\n\nconst fullscreen = useFullscreen();\n\nconst touchscreen = supportsTouchscreen();\n// TODO: Determine this in a better way\nconst display = useDisplay();\nconst theme = useTheme();\n\n\n\nconst breakpoints = [\n  [15, 3.5, \"~ Rubin Field of View (3.5 degrees)\"],\n  [4, 3.5, \"Rubin Field of View (3.5 degrees)\"],\n  [1, 0.5, \"Full Moon (0.5 degrees)\"],\n  [0.25, 5 / 60, \"JWST Field of View (5 arcmin)\"],\n  [5 / 60, 1 / 60, \"1 arcmin\"],\n  [1 / 60, 30 / 3600, \"0.5 arcmin\"],\n  [0, 1 / 3600, \"1 arcsec\"],\n];\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => {\n  return display.smAndDown.value && (display.height.value > 1.2 * display.width.value);\n});\n\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst zooming = ref(false);\nconst opacity = ref(100);\n\nlet zoomTimeout: ReturnType<typeof setTimeout> | null = null;\n// See https://rubin.canto.com/g/RubinVisualIdentity/index?viewIndex=0\nconst accentColor = computed(() => theme.global.current.value.colors.primary);\nconst buttonColor = computed(() => theme.global.current.value.colors.primaryVariant);\nconst thumbnailColor = computed(() => theme.global.current.value.colors.info);\nconst highlightColor = computed(() => theme.global.current.value.colors.accent);\nconst textColor = computed(() => theme.global.current.value.colors[\"on-background\"]);\nconst tab = ref(0);\n\nconst selectedItem = ref<Thumbnail | null>(null);\n\nconst lowerLevelPlaces: Place[] = [];\nconst topLevelPlaces: Place[] = [];\nconst highlightsA = ref(new Folder());\nconst highlightsB = ref(new Folder());\nconst currentPlace = ref<Place | null>(null);\nconst mainImageInView = ref(false);\n\nconst mode = ref<Mode>(\"a\");\nconst folder = computed(() => (mode.value == \"a\" && imagesLoaded.value[0]) ? highlightsA.value : highlightsB.value);\n\nlet circle: Circle | null = null;\nconst showOptions = ref(false);\nconst showCircle = ref(false);\nconst showLabels = ref(false);\nconst showScalebar = ref(!smallSize.value);\nconst showSlider = ref(false);\nconst showConstellations = ref(false);\nconst highlightPlaceFromZoom = computed(() => zoomDeg.value < INFOBOX_ZOOM_CUTOFF);\nconst showPlaceHighlights = computed(() => !showTextSheet.value && currentPlace.value !== null && highlightPlaceFromZoom.value);\nconst atTopLevel = computed(() => zoomDeg.value > SMALL_LABELS_ZOOM);\n\nconst _ute = useTrackedElements(\"\", store);\n\n// Offsets are in RA/Dec \n// If you passt them to :offset-x, or :offset-y instead\n// offset ra will be how left/right the label is offset and \n// // offset dec will be how up/down the label is offset\nconst offsets = ref<OffsetRecords>({});\n\nfunction rotateOffsetToScreen(offset: Offset): Offset {\n  // Rotate the offset to the screen orientation\n  const cosRoll = Math.cos((offset.rollDeg ?? 0) * D2R);\n  const sinRoll = Math.sin((offset.rollDeg ?? 0) * D2R);\n  return {\n    raOff: offset.raOff * cosRoll + offset.decOff * sinRoll,\n    decOff: -offset.raOff * sinRoll + offset.decOff * cosRoll,\n  };\n}\n\n\n\nfetch(\"https://data1.wwtassets.org/noirlab2521/offsets.json\")\n  .then(response => response.json())\n  .then(data => {\n    const keys = Object.keys(data);\n    keys.forEach(key => {\n      const offset = data[key] as Offset;\n      // Rotate the offset to the screen orientation\n      data[key] = rotateOffsetToScreen(offset);\n    });\n    offsets.value = data as OffsetRecords;\n    \n  })\n  .catch(error => {\n    console.error(\"Error fetching offsets:\", error);\n  });\n  \nconst imagesLoaded = ref<[boolean, boolean]>([false, false]);\nconst showComingSoon = ref(false);\nwatch(imagesLoaded, (newValue) => {\n  showComingSoon.value = !newValue[0] && !newValue[1];\n}, { immediate: true });\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    // window.addEventListener('contextmenu', function(event) {\n    //   event.stopImmediatePropagation();\n    // }, true);\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n    const loadPromises = [imageAPlacesURL, imageBPlacesURL].map(url => {\n      return store.loadImageCollection({\n        url,\n        loadChildFolders: false,\n      });\n    });\n    Promise.all(loadPromises).then(loadedFolders => {\n      loadedFolders.forEach((loadedFolder, index) => {\n        const children = loadedFolder.get_children();\n        const highlightsFolder = new Folder();\n        children?.forEach((item, index) => {\n          if (item instanceof Place) {\n            if (index === 0) {\n              highlightsFolder.addChildPlace(item);\n              topLevelPlaces.push(item);\n            } else {\n              if (item.get_names().length == 1) {\n                highlightsFolder.addChildPlace(item);\n              }\n              lowerLevelPlaces.push(item);\n            }\n          }\n        });\n        const highlightsRef = index === 0 ? highlightsA : highlightsB;\n        highlightsRef.value = highlightsFolder;\n        const length = highlightsRef.value.get_children()?.length ?? 0;\n        imagesLoaded.value = imagesLoaded.value.map((loaded, i) => i === index ? length > 0 : loaded) as [boolean, boolean];\n      });\n    }).then(() => {\n      positionSet.value = true;\n      layersLoaded.value = true;\n      gotoMainImage(mode.value, true);\n    });\n    \n    store.loadImageCollection({\n      url: \"bg.wtml\",\n      loadChildFolders: false,\n    }).then(bgFolder => {\n      const children = bgFolder.get_children();\n      if (children !== null) {\n        const item = children[0];\n        if (item instanceof Imageset) {\n          store.setBackgroundImageByName(item.get_name());\n        }\n      }\n    });\n\n    updateClosestPlace();\n\n  });\n});\n\nfunction findClosest(places: Place[]): Place | null {\n  let closest = currentPlace.value;\n  let closestDist = closest === null ? null : distanceFromCenter(closest);\n\n  places.forEach(place => {\n    const dist = distanceFromCenter(place);\n    if ((!isNaN(dist)) && ((closestDist === null) || (dist < closestDist))) {\n      closest = place;\n      closestDist = dist;\n    }\n  });\n\n  return closest !== null && placeInView(closest) ? closest : null;\n}\n\nconst closestPlace = ref<Place | null>(null);\nfunction updateClosestPlace() {\n  currentPlace.value = findClosest(atTopLevel.value ? topLevelPlaces : lowerLevelPlaces);\n  closestPlace.value = currentPlace.value;\n}\n\nconst forceShowCircle = ref(false);\nconst _onMarkerHover = (place: Place, show: boolean) => {\n  forceShowCircle.value = show;\n  console.log(place.get_name(), closestPlace.value?.get_name());\n  currentPlace.value = show ? place : closestPlace.value; \n};\n\nfunction updateCircle(place: Place | null) {\n  if (!highlightPlaceFromZoom.value || place === null) {\n    if (!forceShowCircle.value) {\n      circle?.set_opacity(0);\n      return;\n    }\n  }\n\n  if (circle === null) {\n    circle = new Circle();\n    circle.set_id(\"infobox\");\n    circle.set_lineWidth(3);\n    circle.set_lineColor(\"#ffffff\");\n    circle.set_skyRelative(true);\n    store.addAnnotation(circle);\n  }\n\n  circle.set_opacity(showCircle.value ? 1 : 0);\n  circle.setCenter(place.get_RA() * 15, place.get_dec());\n  circle.set_radius(place?.angularSize);\n}\n\nfunction gotoMainImage(image: Mode, instant=false) {\n  const index = image === \"a\" ? 0 : 1;\n  const item = copyPlace(topLevelPlaces[index]);\n  item.set_zoomLevel(zoomLevelForPlace(item) * 1.2);\n  store.gotoTarget({\n    place: item,\n    noZoom: false,\n    instant,\n    trackObject: false,\n  });\n}\n\nfunction wwtSmallestFov() {\n  const renderContext = WWTControl.singleton.renderContext;\n  const fovH = renderContext.get_fovAngle() * D2R;\n  const fovW = fovH * renderContext.width / renderContext.height;\n  return Math.min(fovW, fovH);\n}\n\nfunction zoomLevelForPlace(place: Place): number {\n  // we want the wwt zoom level  to be same as the places .get_zoomLevel()\n  const {width, height} = WWTControl.singleton.renderContext;\n  // console.log(width, height, place.get_zoomLevel()/6 * D2R, wwtSmallestFov());\n  if (width > height) {\n    // landscape\n    return place.get_zoomLevel();\n  }\n  return place.get_zoomLevel() * (height / width);\n}\n\nfunction distanceFromCenter(place: Place): number {\n  return distance(place.get_RA() * H2R, place.get_dec() * D2R, raRad.value, decRad.value);\n}\n\nfunction placeInView(place: Place, fraction=0.0): boolean {\n  // checks if the center of place is in the current field of view\n  // Assume the Zoom level corresponds to the size of the image\n  // fraction is ~fraction of the place that must be in the current FOV\n  // by default, allow 1/2 of the place to be visible and still be considered in view\n  if (place == null) {\n    return false;\n  }\n  const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n  if (iset == null) {\n    return false;\n  }\n\n  let dist = distanceFromCenter(place);\n  const isetFov = (place.get_zoomLevel() / 6) * D2R;\n  const curFov = wwtSmallestFov();\n\n  dist += (fraction - 0.5) * isetFov;\n  return dist < curFov / 2;\n}\n\nfunction handleSelection(item: Thumbnail, selection: ItemSelectionType) {\n  if (item instanceof Imageset) {\n    store.setForegroundImageByName(item.get_name());\n    const type = item.get_dataSetType();\n    if (type === ImageSetType.planet) {\n      store.setBackgroundImageByName(item.get_name());\n    }\n  } else if (item instanceof Place) {\n    const imageset = item.get_backgroundImageset() ?? item.get_studyImageset();\n    if (imageset !== null) {\n      store.setForegroundImageByName(imageset.get_name());\n    }\n\n    const instant = selection === \"dblclick\";\n    if (selection !== \"folder\") {\n\n      store.gotoTarget({\n        place: item,\n        noZoom: false,\n        instant,\n        trackObject: true,\n      });\n    }\n  }  \n\n  selectedItem.value = item;\n}\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nconst infoSheetLocation = computed(() => smallSize.value ? \"bottom\" : \"right\");\nconst infoSheetHeight = computed(() => infoSheetLocation.value === \"bottom\" ? `${infoFraction}%` : \"100%\");\nconst infoSheetWidth = computed(() => infoSheetLocation.value === \"bottom\" ? \"100%\" : `${infoFraction}%`);\nconst infoTextHeight = computed(() => infoSheetLocation.value === \"bottom\" ? `calc(${infoFraction}vh - 25px)` : \"calc(100vh - 25px)\");\nconst infoSheetTransition = computed(() => infoSheetLocation.value === \"bottom\" ? \"dialog-bottom-transition\" : \"tab-reverse-transition\");\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  const rubinColors = Object.keys(RUBIN_COLORS).reduce((acc: Record<string, string>, key: string) => {\n    acc[`--${key}`] = RUBIN_COLORS[key];\n    return acc;\n  }, {});\n  return {\n    ...rubinColors,\n    \"--accent-color\": accentColor.value,\n    \"--button-color\": buttonColor.value,\n    \"--thumbnail-color\": thumbnailColor.value,\n    \"--app-content-height\": showTextSheet.value && infoSheetLocation.value === \"bottom\" ? `${100 - infoFraction}vh` : \"100dvh\",\n    \"--app-content-width\": showTextSheet.value && infoSheetLocation.value === \"right\" ? `${100 - infoFraction}vw` : \"100dvw\",\n    \"--info-sheet-width\": infoSheetWidth.value,\n    \"--info-sheet-height\": infoSheetHeight.value,\n    \"--info-text-height\": infoTextHeight.value,\n  };\n});\n\n  \n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  // showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction onMove() {\n  if (placeInView(topLevelPlaces[0])) {\n    mode.value = \"a\";\n    mainImageInView.value = true;\n  } else if (placeInView(topLevelPlaces[1])) {\n    mode.value = \"b\";\n    mainImageInView.value = true;\n  } else {\n    mainImageInView.value = false;\n  }\n  updateClosestPlace();\n}\n\nfunction onZoomChange(newZoom: number, oldZoom: number) {\n  zooming.value = Math.abs((newZoom - oldZoom) / oldZoom) > 0.01;\n  updateClosestPlace();\n  updateCircle(currentPlace.value);\n  if (zooming.value) {\n    zoomTimeout = setTimeout(() => {\n      zooming.value = false;\n    }, 100);\n  } else if (zoomTimeout) {\n    clearTimeout(zoomTimeout);\n  }\n\n}\n\nwatch(raRad, (_ra: number) => onMove());\nwatch(decRad, (_dec: number) => onMove());\nwatch(zoomDeg, onZoomChange);\nwatch(showCircle, (_show: boolean) => updateCircle(currentPlace.value));\nwatch(showConstellations, (show: boolean) => {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n});\nwatch(currentPlace, updateCircle);\nwatch(mode, (newMode: Mode) => {\n  theme.global.name.value = newMode === \"a\" ? \"rubinA\" : \"rubinB\";\n  opacity.value = 100;\n});\nwatch(opacity, store.setForegroundOpacity);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_wwt_tracked_content = _resolveComponent(\"wwt-tracked-content\")!\n  const _component_splash_screen = _resolveComponent(\"splash-screen\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_folder_view = _resolveComponent(\"folder-view\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_scalebar = _resolveComponent(\"scalebar\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_infobox = _resolveComponent(\"infobox\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n  const _directive_hide = _resolveDirective(\"hide\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, { \"wwt-namespace\": _ctx.wwtNamespace }, null, 8, [\"wwt-namespace\"]),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(lowerLevelPlaces, (place, index) => {\n          return _createVNode(_component_wwt_tracked_content, {\n            key: index,\n            place: place,\n            name: place.get_name(),\n            \"offset-ra\": offsets.value[place.get_name()]?.raOff ?? 0,\n            \"offset-dec\": offsets.value[place.get_name()]?.decOff ?? 0,\n            store: _unref(store),\n            visible: showLabels.value && !atTopLevel.value,\n            onClick: ($event: any) => (handleSelection(place, 'click')),\n            onDblclick: ($event: any) => (handleSelection(place, 'dblclick'))\n          }, {\n            default: _withCtx((props) => [\n              _createElementVNode(\"div\", _mergeProps({\n                class: [\"tracked-places\", {\"star\": place.angularSize < 0.02}]\n              }, _toHandlers(props.on, true)), _toDisplayString(place.get_name()), 17)\n            ]),\n            _: 2\n          }, 1032, [\"place\", \"name\", \"offset-ra\", \"offset-dec\", \"store\", \"visible\", \"onClick\", \"onDblclick\"])\n        }), 64)),\n        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(topLevelPlaces, (place, index) => {\n          return _createVNode(_component_wwt_tracked_content, {\n            key: index,\n            place: place,\n            name: place.get_name(),\n            \"offset-ra\": offsets.value[place.get_name()]?.raOff ?? 0,\n            \"offset-dec\": offsets.value[place.get_name()]?.decOff ?? 0,\n            store: _unref(store),\n            visible: showLabels.value && atTopLevel.value,\n            onClick: ($event: any) => (handleSelection(place, 'click')),\n            onDblclick: ($event: any) => (handleSelection(place, 'dblclick'))\n          }, {\n            default: _withCtx((props) => [\n              _createElementVNode(\"div\", _mergeProps({ class: \"tracked-places top-level-place\" }, _toHandlers(props.on, true)), _toDisplayString(place.get_name()), 17)\n            ]),\n            _: 2\n          }, 1032, [\"place\", \"name\", \"offset-ra\", \"offset-dec\", \"store\", \"visible\", \"onClick\", \"onDblclick\"])\n        }), 64)),\n        _createVNode(_component_splash_screen, {\n          title: \"Rubin First Look\",\n          cssVars: cssVars.value,\n          onClose: closeSplashScreen\n        }, null, 8, [\"cssVars\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_2, _cache[23] || (_cache[23] = [\n              _createElementVNode(\"div\", { class: \"container\" }, [\n                _createElementVNode(\"div\", { class: \"spinner\" }),\n                _createElementVNode(\"p\", null, \"Loading \")\n              ], -1)\n            ]), 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _withDirectives(_createVNode(_component_folder_view, {\n              class: _normalizeClass(['folder-view', smallSize.value ? 'folder-view-tall' : '']),\n              \"root-folder\": folder.value,\n              \"background-color\": accentColor.value,\n              \"thumbnail-color\": thumbnailColor.value,\n              \"highlight-color\": highlightColor.value,\n              \"text-color\": textColor.value,\n              \"flex-direction\": \"column\",\n              onSelect: _cache[0] || (_cache[0] = ({ item, type }) => handleSelection(item, type)),\n              \"start-expanded\": !smallSize.value\n            }, {\n              header: _withCtx(({ toggleExpanded, expanded }) => [\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _cache[24] || (_cache[24] = _createElementVNode(\"span\", null, \"Explore\", -1)),\n                  _createVNode(_component_font_awesome_icon, {\n                    icon: expanded ? 'chevron-up' : 'chevron-down',\n                    onClick: ($event: any) => (toggleExpanded()),\n                    onKeyup: _withKeys(($event: any) => (toggleExpanded()), [\"enter\"]),\n                    tabindex: \"0\",\n                    \"aria-role\": \"button\",\n                    \"aria-pressed\": expanded,\n                    \"aria-hidden\": \"false\",\n                    \"aria-label\": \"Toggle folder view\"\n                  }, null, 8, [\"icon\", \"onClick\", \"onKeyup\", \"aria-pressed\"])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"class\", \"root-folder\", \"background-color\", \"thumbnail-color\", \"highlight-color\", \"text-color\", \"start-expanded\"]), [\n              [_vShow, folder.value.get_children()?.length ?? 0 > 0]\n            ])\n          ])), [\n            [_directive_hide, _unref(fullscreen)]\n          ]),\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n            (!smallSize.value && showSlider.value && mainImageInView.value)\n              ? (_openBlock(), _createBlock(_component_v_slider, {\n                  key: 0,\n                  modelValue: opacity.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((opacity).value = $event)),\n                  min: 0,\n                  max: 100,\n                  color: \"secondary\",\n                  class: \"opacity-slider\",\n                  \"hide-details\": \"\"\n                }, {\n                  prepend: _withCtx(() => _cache[25] || (_cache[25] = [\n                    _createTextVNode(\" NOIRLab All-Sky/DSS \")\n                  ])),\n                  append: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_unref(store).foregroundImageset?.get_name()), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]))\n              : _createCommentVNode(\"\", true)\n          ])), [\n            [_directive_hide, _unref(fullscreen)]\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            (!_unref(fullscreen) && topLevelPlaces.length > 1)\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: _normalizeClass([{'go-to-a': mode.value == 'b', 'go-to-b': mode.value == 'a'}]),\n                  id: \"goto-other-image\",\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (gotoMainImage((mode.value == 'a') ? 'b' : 'a', false))),\n                  onDblclick: _cache[3] || (_cache[3] = ($event: any) => (gotoMainImage((mode.value == 'a') ? 'b' : 'a', true)))\n                }, \" Go to \" + _toDisplayString(mode.value == 'a' ? 'the' : '') + \" \" + _toDisplayString(topLevelPlaces[mode.value=='a'? 1 : 0]?.get_name()), 35))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"div\", null, [\n              (!_unref(fullscreen))\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                    _createVNode(_component_icon_button, {\n                      id: \"info-icon\",\n                      modelValue: showTextSheet.value,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((showTextSheet).value = $event)),\n                      \"fa-icon\": \"info\",\n                      color: buttonColor.value,\n                      \"tooltip-text\": \"Show information\",\n                      \"tooltip-location\": \"start\"\n                    }, null, 8, [\"modelValue\", \"color\"])\n                  ]))\n                : _createCommentVNode(\"\", true),\n              (!_unref(fullscreen))\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                    _createVNode(_component_icon_button, {\n                      modelValue: showVideoSheet.value,\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((showVideoSheet).value = $event)),\n                      \"fa-icon\": \"video\",\n                      color: buttonColor.value,\n                      \"tooltip-text\": \"Watch video\",\n                      \"tooltip-location\": \"start\"\n                    }, null, 8, [\"modelValue\", \"color\"])\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_icon_button, {\n                id: \"fullscreen-icon\",\n                onActivate: _cache[6] || (_cache[6] = ($event: any) => (fullscreen.value = !_unref(fullscreen))),\n                \"fa-icon\": _unref(fullscreen) ? 'compress' : 'expand',\n                color: buttonColor.value,\n                \"tooltip-text\": `${_unref(fullscreen) ? 'Exit' : 'Make'} fullscreen`,\n                \"tooltip-location\": \"start\"\n              }, null, 8, [\"fa-icon\", \"color\", \"tooltip-text\"]),\n              _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                _createElementVNode(\"div\", _hoisted_11, [\n                  _createVNode(_component_icon_button, {\n                    id: \"options-toggle\",\n                    \"fa-icon\": showOptions.value ? 'chevron-up' : 'sliders',\n                    color: buttonColor.value,\n                    onActivate: _cache[7] || (_cache[7] = ($event: any) => (showOptions.value = !showOptions.value)),\n                    tabindex: \"0\",\n                    border: false,\n                    \"background-color\": \"transparent\"\n                  }, null, 8, [\"fa-icon\", \"color\"])\n                ]),\n                (showOptions.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                      _createVNode(_component_v_checkbox, {\n                        modelValue: showLabels.value,\n                        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((showLabels).value = $event)),\n                        label: \"Object Labels\",\n                        color: buttonColor.value,\n                        \"hide-details\": \"\",\n                        density: \"compact\"\n                      }, null, 8, [\"modelValue\", \"color\"]),\n                      _createVNode(_component_v_checkbox, {\n                        modelValue: showCircle.value,\n                        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((showCircle).value = $event)),\n                        label: \"Region Circle\",\n                        color: buttonColor.value,\n                        \"hide-details\": \"\",\n                        density: \"compact\"\n                      }, null, 8, [\"modelValue\", \"color\"]),\n                      _createVNode(_component_v_checkbox, {\n                        modelValue: showScalebar.value,\n                        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((showScalebar).value = $event)),\n                        label: \"Scale Bar\",\n                        color: buttonColor.value,\n                        \"hide-details\": \"\",\n                        density: \"compact\"\n                      }, null, 8, [\"modelValue\", \"color\"]),\n                      (!smallSize.value)\n                        ? (_openBlock(), _createBlock(_component_v_checkbox, {\n                            key: 0,\n                            modelValue: showSlider.value,\n                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((showSlider).value = $event)),\n                            label: \"Opacity Slider\",\n                            color: buttonColor.value,\n                            \"hide-details\": \"\",\n                            density: \"compact\"\n                          }, null, 8, [\"modelValue\", \"color\"]))\n                        : _createCommentVNode(\"\", true),\n                      false\n                        ? (_openBlock(), _createBlock(_component_v_checkbox, {\n                            key: 1,\n                            modelValue: showConstellations.value,\n                            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((showConstellations).value = $event)),\n                            label: \"Constellations\",\n                            color: buttonColor.value,\n                            \"hide-details\": \"\",\n                            density: \"compact\"\n                          }, null, 8, [\"modelValue\", \"color\"]))\n                        : _createCommentVNode(\"\", true)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])), [\n                [_directive_hide, _unref(fullscreen)]\n              ])\n            ])\n          ])\n        ]),\n        _withDirectives(_createElementVNode(\"div\", {\n          class: _normalizeClass(['selected-info', smallSize.value ? 'selected-info-tall' : ''])\n        }, null, 2), [\n          [_vShow, showPlaceHighlights.value]\n        ]),\n        _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n          _createVNode(_component_scalebar, {\n            width: 1920,\n            breakpoints: breakpoints,\n            visible: showScalebar.value && !zooming.value,\n            class: \"scalebar\"\n          }, null, 8, [\"visible\"]),\n          (!smallSize.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                _createVNode(_component_credit_logos, {\n                  \"default-logos\": ['cosmicds', 'wwt'],\n                  \"extra-logos\": [\n              {\n                alt: 'INTUITIVE Planetarium at the U.S. Space & Rocket Center',\n                src: './SpaceRocketCenterIntuitivePlanetarium-Logo-small.png',\n                href: 'https://www.rocketcenter.com/INTUITIVEPlanetarium',\n                name: 'INTUITIVE'\n              },\n              {\n                alt: 'Vera C. Rubin Observatory',\n                src: './rubin_white_2.png',\n                href: 'https://rubinobservatory.org/',\n                name: 'RubinObservatory'\n              }\n            ]\n                })\n              ]))\n            : _createCommentVNode(\"\", true),\n          _withDirectives(_createVNode(_component_infobox, {\n            class: _normalizeClass([{'with-scalebar': showScalebar.value}, {'small-size': smallSize.value}]),\n            place: currentPlace.value,\n            small: smallSize.value\n          }, null, 8, [\"class\", \"place\", \"small\"]), [\n            [_directive_hide, _unref(fullscreen)]\n          ]),\n          _cache[26] || (_cache[26] = _createElementVNode(\"div\", { class: \"perma-credit\" }, \"Image Credit: RubinObs/NOIRLab/SLAC/NSF/DOE/AURA\", -1))\n        ])), [\n          [_directive_hide, _unref(fullscreen)]\n        ]),\n        (!imagesLoaded.value[0] && !imagesLoaded.value[1] && showComingSoon.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"close-coming-soon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[13] || (_cache[13] = ($event: any) => (showComingSoon.value = false)),\n                onKeyup: _cache[14] || (_cache[14] = _withKeys(($event: any) => (showComingSoon.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[27] || (_cache[27] = _createElementVNode(\"div\", { class: \"coming-soon-text\" }, [\n                _createElementVNode(\"h1\", null, \"Coming Soon!\"),\n                _createElementVNode(\"p\", null, [\n                  _createTextVNode(\" Please \"),\n                  _createElementVNode(\"strong\", null, \"REFRESH\"),\n                  _createTextVNode(\" this page after June 23, 2025, 11:20am EDT to load the Rubin First Look imagery. \")\n                ]),\n                _createElementVNode(\"p\", null, \" For now, you can explore this full-sky image from NOIRLab and the Digital Sky Survey and get used to navigating around the sky in WorldWide Telescope. \")\n              ], -1))\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_16, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[15] || (_cache[15] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[16] || (_cache[16] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[28] || (_cache[28] = _createElementVNode(\"iframe\", {\n                id: \"info-video\",\n                width: \"560\",\n                height: \"315\",\n                src: \"https://www.youtube.com/embed/ZsIkLuw2Y68?si=wOzU-B0malOA0kW1\",\n                title: \"YouTube video player\",\n                frameborder: \"0\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                referrerpolicy: \"strict-origin-when-cross-origin\",\n                allowfullscreen: \"\"\n              }, null, -1))\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(cssVars.value),\n          class: _normalizeClass(['info-sheet', `info-sheet-${infoSheetLocation.value}`]),\n          id: \"text-info-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          scrim: false,\n          location: \"end\",\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event: any) => ((showTextSheet).value = $event)),\n          transition: infoSheetTransition.value\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event: any) => ((tab).value = $event)),\n                  height: \"32px\",\n                  color: \"rubin-turquoise\",\n                  \"slider-color\": \"rubin-teal\",\n                  id: \"tabs\",\n                  dense: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[29] || (_cache[29] = [\n                        _createElementVNode(\"h3\", null, \"Rubin's Science\", -1)\n                      ])),\n                      _: 1,\n                      __: [29]\n                    }),\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[30] || (_cache[30] = [\n                        _createElementVNode(\"h3\", null, \"User Guide\", -1)\n                      ])),\n                      _: 1,\n                      __: [30]\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[19] || (_cache[19] = ($event: any) => (showTextSheet.value = false)),\n                  onKeyup: _cache[20] || (_cache[20] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[21] || (_cache[21] = ($event: any) => ((tab).value = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                (imagesLoaded.value.some(loaded => loaded))\n                                  ? (_openBlock(), _createBlock(_component_v_container, {\n                                      key: 0,\n                                      class: \"pa-0\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _cache[31] || (_cache[31] = _createElementVNode(\"p\", null, [\n                                          _createTextVNode(\" This text is excerpted from the \"),\n                                          _createElementVNode(\"a\", {\n                                            href: \"https://noirlab.edu/public/news/noirlab2521/\",\n                                            target: \"_blank\",\n                                            rel: \"noopener noreferrer\"\n                                          }, \"Rubin First Look Press Release\"),\n                                          _createTextVNode(\". See the full release for more information. \")\n                                        ], -1)),\n                                        _cache[32] || (_cache[32] = _createElementVNode(\"h4\", { class: \"user-guide-header\" }, \"About Rubin Observatory\", -1)),\n                                        _cache[33] || (_cache[33] = _createElementVNode(\"div\", { class: \"background-header-image\" }, null, -1)),\n                                        _cache[34] || (_cache[34] = _createElementVNode(\"p\", null, \" The NSFDOE Vera C. Rubin Observatory, a major new scientific facility jointly funded by the U.S. National Science Foundation and the U.S. Department of Energy's Office of Science, released its first imagery on June 23, 2025 at an event in Washington, D.C. The imagery shows cosmic phenomena captured at an unprecedented scale. In just over 10 hours of test observations, NSFDOE Rubin Observatory has already captured millions of galaxies and Milky Way stars and thousands of asteroids. The imagery is a small preview of Rubin Observatory's upcoming 10-year scientific mission to explore and understand some of the Universe's biggest mysteries. \", -1)),\n                                        _cache[35] || (_cache[35] = _createElementVNode(\"p\", null, \" The result of more than two decades of work, Rubin Observatory is perched at the summit of Cerro Pachn in Chile, where dry air and dark skies provide one of the world's best observing locations. Rubin's innovative 8.4-meter telescope has the largest digital camera ever built, which feeds a powerful data processing system. Later in 2025, Rubin will begin its primary mission, the Legacy Survey of Space and Time, in which it will ceaselessly scan the sky nightly for 10 years to precisely capture every visible change. \", -1)),\n                                        _cache[36] || (_cache[36] = _createElementVNode(\"p\", null, \" The result will be an ultrawide, ultra-high-definition time-lapse record of the Universe. It will bring the sky to life with a treasure trove of billions of scientific discoveries. The images will reveal asteroids and comets, pulsating stars, supernova explosions, far-off galaxies and perhaps cosmic phenomena that no one has seen before. \", -1)),\n                                        _cache[37] || (_cache[37] = _createElementVNode(\"h4\", { class: \"user-guide-header\" }, \"Who was Vera Rubin?\", -1)),\n                                        _cache[38] || (_cache[38] = _createElementVNode(\"p\", { class: \"pb-5\" }, \" Rubin Observatory is named in honor of trailblazing U.S. astronomer Vera C. Rubin, who found conclusive evidence of vast quantities of invisible material known as dark matter. Understanding the nature of dark matter, dark energy and other large-scale cosmic mysteries is a central focus of Rubin Observatory's mission. Dark energy is what scientists call the mysterious and colossally powerful force that appears to be causing galaxies in the Universe to move away from each other at an accelerating rate. Although dark matter and dark energy collectively comprise 95% of the Universe, their properties remain unknown. \", -1)),\n                                        _cache[39] || (_cache[39] = _createElementVNode(\"div\", { class: \"background-rubin-image\" }, null, -1)),\n                                        _cache[40] || (_cache[40] = _createElementVNode(\"p\", null, [\n                                          _createElementVNode(\"cite\", null, [\n                                            _createTextVNode(\" Observatory Image Credit: RubinObs/NOIRLab/SLAC/NSF/DOE/AURA/B. Quint \"),\n                                            _createElementVNode(\"a\", {\n                                              href: \"https://noirlab.edu/public/images/iotw2229a/\",\n                                              target: \"_blank\",\n                                              rel: \"noopener noreferrer\"\n                                            }, \"Link to original\")\n                                          ]),\n                                          _createElementVNode(\"br\"),\n                                          _createElementVNode(\"cite\", null, [\n                                            _createTextVNode(\" Vera Rubin Image Credit: Carnegie Institution for Science/NOIRLab. \"),\n                                            _createElementVNode(\"a\", {\n                                              href: \"https://noirlab.edu/public/images/VeraRubin-6-enlarged-CC/\",\n                                              target: \"_blank\",\n                                              rel: \"noopener noreferrer\"\n                                            }, \"Link to original\")\n                                          ])\n                                        ], -1)),\n                                        _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                      ]),\n                                      _: 1,\n                                      __: [31,32,33,34,35,36,37,38,39,40]\n                                    }))\n                                  : (_openBlock(), _createBlock(_component_v_container, {\n                                      key: 1,\n                                      class: \"pa-0\"\n                                    }, {\n                                      default: _withCtx(() => _cache[41] || (_cache[41] = [\n                                        _createElementVNode(\"p\", null, \" Come back June 23rd, 11:20am EDT to learn more! \", -1)\n                                      ])),\n                                      _: 1,\n                                      __: [41]\n                                    }))\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, { class: \"pa-0\" }, {\n                                  default: _withCtx(() => [\n                                    _cache[70] || (_cache[70] = _createElementVNode(\"p\", null, [\n                                      _createTextVNode(\" This \"),\n                                      _createElementVNode(\"a\", {\n                                        href: \"https://www.worldwidetelescope.org/home\",\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\"\n                                      }, \"WorldWide Telescope\"),\n                                      _createTextVNode(\" (WWT) interactive visualization provides a contextual, deep dive into the stunning new imagery from the Rubin Observatory. \")\n                                    ], -1)),\n                                    _cache[71] || (_cache[71] = _createElementVNode(\"h4\", { class: \"user-guide-header\" }, \"Navigation & Information\", -1)),\n                                    _cache[72] || (_cache[72] = _createElementVNode(\"ul\", { class: \"text-list mx-5\" }, [\n                                      _createElementVNode(\"li\", null, \" To navigate the WWT view, use the following controls: \")\n                                    ], -1)),\n                                    _createVNode(_component_v_row, {\n                                      align: \"center\",\n                                      class: \"mt-2 mx-3\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[42] || (_cache[42] = [\n                                                _createTextVNode(\" Pan \")\n                                              ])),\n                                              _: 1,\n                                              __: [42]\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \"\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \"\" : \"keys\"), 1),\n                                            _cache[43] || (_cache[43] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1,\n                                          __: [43]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, {\n                                      align: \"center\",\n                                      class: \"mx-3\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[44] || (_cache[44] = [\n                                                _createTextVNode(\" Zoom \")\n                                              ])),\n                                              _: 1,\n                                              __: [44]\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \"\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \"\" : \"keys\"), 1),\n                                            _cache[45] || (_cache[45] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1,\n                                          __: [45]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { class: \"pt-0\" }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"ul\", _hoisted_17, [\n                                              (imagesLoaded.value.every(loaded => loaded))\n                                                ? (_openBlock(), _createElementBlock(\"li\", _hoisted_18, [\n                                                    _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"Tap\" : \"Click\"), 1),\n                                                    _cache[46] || (_cache[46] = _createTextVNode(\" the \")),\n                                                    _createElementVNode(\"strong\", null, \"Go to Image \" + _toDisplayString(topLevelPlaces[mode.value=='a'? 1 : 0]?.get_name()), 1),\n                                                    _cache[47] || (_cache[47] = _createTextVNode(\" button in the upper right to switch the view to that image. \"))\n                                                  ]))\n                                                : _createCommentVNode(\"\", true),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"Tap\" : \"Click\"), 1),\n                                                _cache[48] || (_cache[48] = _createTextVNode(\" on an object \")),\n                                                _cache[49] || (_cache[49] = _createElementVNode(\"strong\", null, \"Image Thumbnail\", -1)),\n                                                _cache[50] || (_cache[50] = _createTextVNode(\" or \")),\n                                                _cache[51] || (_cache[51] = _createElementVNode(\"strong\", null, \"Label\", -1)),\n                                                _cache[52] || (_cache[52] = _createTextVNode(\" to pan to that object. \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Double-\" + _toDisplayString(_unref(touchscreen) ? \"tap\" : \"click\"), 1),\n                                                _cache[53] || (_cache[53] = _createTextVNode(\" on an object \")),\n                                                _cache[54] || (_cache[54] = _createElementVNode(\"strong\", null, \"Image Thumbnail\", -1)),\n                                                _cache[55] || (_cache[55] = _createTextVNode(\" or \")),\n                                                _cache[56] || (_cache[56] = _createElementVNode(\"strong\", null, \"Label\", -1)),\n                                                _cache[57] || (_cache[57] = _createTextVNode(\" to move instantly to that object. \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"Tap\" : \"Click\"), 1),\n                                                _cache[58] || (_cache[58] = _createTextVNode(\" on the object \")),\n                                                _cache[59] || (_cache[59] = _createElementVNode(\"strong\", null, \"Information Box\", -1)),\n                                                _cache[60] || (_cache[60] = _createTextVNode(\" in the lower left to learn more about it. \"))\n                                              ])\n                                            ])\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[66] || (_cache[66] = _createElementVNode(\"h4\", { class: \"user-guide-header\" }, \"Main View Buttons\", -1)),\n                                            _createElementVNode(\"ul\", _hoisted_19, [\n                                              _createElementVNode(\"li\", null, [\n                                                _createVNode(_component_font_awesome_icon, {\n                                                  class: \"bullet-icon\",\n                                                  icon: \"info\",\n                                                  size: \"lg\"\n                                                }),\n                                                _cache[61] || (_cache[61] = _createTextVNode(\" open or close this information panel \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createVNode(_component_font_awesome_icon, {\n                                                  class: \"bullet-icon\",\n                                                  icon: \"video\",\n                                                  size: \"lg\"\n                                                }),\n                                                _cache[62] || (_cache[62] = _createTextVNode(\" view a video tutorial about this visualization \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createVNode(_component_font_awesome_icon, {\n                                                  class: \"bullet-icon\",\n                                                  icon: \"expand\",\n                                                  size: \"lg\"\n                                                }),\n                                                _cache[63] || (_cache[63] = _createTextVNode(\" toggle fullscreen mode ( view only the imagery with no user interface.) \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createVNode(_component_font_awesome_icon, {\n                                                  class: \"bullet-icon\",\n                                                  icon: \"compress\",\n                                                  size: \"lg\"\n                                                }),\n                                                _cache[64] || (_cache[64] = _createTextVNode(\" return to the normal user interface. \"))\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createVNode(_component_font_awesome_icon, {\n                                                  class: \"bullet-icon\",\n                                                  icon: \"sliders\",\n                                                  size: \"lg\"\n                                                }),\n                                                _cache[65] || (_cache[65] = _createTextVNode(\" open more control options \"))\n                                              ])\n                                            ]),\n                                            _cache[67] || (_cache[67] = _createElementVNode(\"h4\", { class: \"user-guide-header mt-5\" }, \"Controls\", -1)),\n                                            _cache[68] || (_cache[68] = _createElementVNode(\"ul\", { class: \"text-list mx-5\" }, [\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Object Labels\"),\n                                                _createTextVNode(\": Display or hide the names of objects in the view. \")\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Region Markers\"),\n                                                _createTextVNode(\": Display or hide the boxes that roughly delineate the labeled objects. \")\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Scale Bar\"),\n                                                _createTextVNode(\": Display or hide the scale bar that contextualizes how much of the sky you are seeing. \")\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Opacity Slider\"),\n                                                _createTextVNode(\": Display or hide the opacity slider that lets you compare the new Rubin imagery with a background sky from NOIRLab and the Digitized Sky Survey. \")\n                                              ]),\n                                              _createElementVNode(\"li\", null, [\n                                                _createElementVNode(\"strong\", null, \"Constellations\"),\n                                                _createTextVNode(\": Display or hide the constellation lines and labels to orient yourself in the sky. \")\n                                              ])\n                                            ], -1))\n                                          ]),\n                                          _: 1,\n                                          __: [66,67,68]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[69] || (_cache[69] = _createElementVNode(\"div\", { class: \"credits\" }, [\n                                              _createElementVNode(\"h4\", null, \"Credits:\"),\n                                              _createElementVNode(\"p\", null, [\n                                                _createTextVNode(\" Rubin imagery and informational text provided by \"),\n                                                _createElementVNode(\"strong\", null, [\n                                                  _createElementVNode(\"a\", { href: \"https://noirlab.edu/\" }, \"NOIRLab\")\n                                                ]),\n                                                _createTextVNode(\". \")\n                                              ]),\n                                              _createElementVNode(\"h5\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.rocketcenter.com/INTUITIVEPlanetarium\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, [\n                                                  _createElementVNode(\"em\", null, \"INTUITIVE\"),\n                                                  _createTextVNode(\" Planetarium at the U.S. Space & Rocket Center\")\n                                                ])\n                                              ]),\n                                              _createElementVNode(\"p\", null, \"David Weigel\"),\n                                              _createElementVNode(\"h5\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"CosmicDS\")\n                                              ]),\n                                              _createElementVNode(\"p\", null, \"Alyssa Goodman\"),\n                                              _createElementVNode(\"p\", null, \"Pat Udomprasert\"),\n                                              _createElementVNode(\"p\", null, \"Jon Carifio\"),\n                                              _createElementVNode(\"p\", null, \"John Lewis\"),\n                                              _createElementVNode(\"h5\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.worldwidetelescope.org/home\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"WorldWide Telescope\")\n                                              ]),\n                                              _createElementVNode(\"p\", null, \"Peter Williams\"),\n                                              _createElementVNode(\"p\", null, \"Jon Carifio\"),\n                                              _createElementVNode(\"p\", null, \"David Weigel\")\n                                            ], -1)),\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1,\n                                          __: [69]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, null, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_funding_acknowledgement)\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1,\n                                  __: [70,71,72]\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"class\", \"modelValue\", \"transition\"])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n  <div\n    id=\"main-content\"\n  >\n    <WorldWideTelescope\n      :wwt-namespace=\"wwtNamespace\"\n    ></WorldWideTelescope>\n\n    \n    <wwt-tracked-content\n      v-for=\"(place, index) in lowerLevelPlaces\"\n      :key=\"index\"\n      :place=\"place\"\n      :name=\"place.get_name()\"\n      :offset-ra=\"offsets[place.get_name()]?.raOff ?? 0\"\n      :offset-dec=\"offsets[place.get_name()]?.decOff ?? 0\"\n      :store=\"store\"\n      :visible=\"showLabels && !atTopLevel\"\n      v-slot=\"props\"\n      @click=\"handleSelection(place, 'click')\"\n      @dblclick=\"handleSelection(place, 'dblclick')\"\n    >\n        <div :class='[\"tracked-places\", {\"star\": place.angularSize < 0.02}]' v-on=\"props.on\">{{ place.get_name() }}</div>\n    </wwt-tracked-content>\n\n    <wwt-tracked-content\n      v-for=\"(place, index) in topLevelPlaces\"\n      :key=\"index\"\n      :place=\"place\"\n      :name=\"place.get_name()\"\n      :offset-ra=\"offsets[place.get_name()]?.raOff ?? 0\"\n      :offset-dec=\"offsets[place.get_name()]?.decOff ?? 0\"\n      :store=\"store\"\n      :visible=\"showLabels && atTopLevel\"\n      v-slot=\"props\"\n      @click=\"handleSelection(place, 'click')\"\n      @dblclick=\"handleSelection(place, 'dblclick')\"\n    >\n        <div class=\"tracked-places top-level-place\" v-on=\"props.on\">{{ place.get_name() }}</div>\n    </wwt-tracked-content>\n    \n\n    <splash-screen\n      title=\"Rubin First Look\"\n      :cssVars=\"cssVars\"\n      @close=\"closeSplashScreen\"\n    ></splash-screen>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading </p>\n        </div>\n      </div>\n    </transition>\n\n    <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n    <div id=\"top-content\">\n      <div id=\"left-buttons\" v-hide=\"fullscreen\">\n        <folder-view\n          v-show=\"folder.get_children()?.length ?? 0 > 0\"\n          :class=\"['folder-view', smallSize ? 'folder-view-tall' : '']\"\n          :root-folder=\"folder\"\n          :background-color=\"accentColor\"\n          :thumbnail-color=\"thumbnailColor\"\n          :highlight-color=\"highlightColor\"\n          :text-color=\"textColor\"\n          flex-direction=\"column\"\n          @select=\"({ item, type }) => handleSelection(item, type)\"\n          :start-expanded=\"!smallSize\"\n        >\n          <template #header=\"{ toggleExpanded, expanded }\">\n            <div class=\"fv-header\">\n              <span>Explore</span>\n              <font-awesome-icon\n                :icon=\"expanded ? 'chevron-up' : 'chevron-down'\"\n                @click=\"toggleExpanded()\"\n                @keyup.enter=\"toggleExpanded()\"\n                tabindex=\"0\"\n                aria-role=\"button\"\n                :aria-pressed=\"expanded\"\n                aria-hidden=\"false\"\n                aria-label=\"Toggle folder view\"\n              >\n              </font-awesome-icon>\n            </div>\n          </template>\n        </folder-view>\n      </div>\n      <div id=\"center-buttons\" v-hide=\"fullscreen\">\n        <v-slider\n          v-if=\"!smallSize && showSlider && mainImageInView\"\n          v-model=\"opacity\"\n          :min=\"0\"\n          :max=\"100\"\n          color=\"secondary\"\n          class=\"opacity-slider\"\n          hide-details\n        >\n          <template #prepend>\n            NOIRLab All-Sky/DSS\n          </template>\n          <template #append>\n            {{ store.foregroundImageset?.get_name() }}\n          </template>\n        </v-slider>\n      </div>\n      <div id=\"right-buttons\">\n        <div\n          v-if=\"!fullscreen && topLevelPlaces.length > 1\"\n          :class=\"[{'go-to-a': mode == 'b', 'go-to-b': mode == 'a'}]\"\n          id=\"goto-other-image\"\n          @click=\"gotoMainImage((mode == 'a') ? 'b' : 'a', false)\"\n          @dblclick=\"gotoMainImage((mode == 'a') ? 'b' : 'a', true)\"\n        >\n          Go to {{ mode == 'a' ? 'the' : '' }} {{ topLevelPlaces[mode=='a'? 1 : 0]?.get_name() }}\n        </div>\n        <div>\n        <div v-if=\"!fullscreen\">\n          <icon-button\n            id=\"info-icon\"\n            v-model=\"showTextSheet\"\n            fa-icon=\"info\"\n            :color=\"buttonColor\"\n            tooltip-text=\"Show information\"\n            tooltip-location=\"start\"\n          >\n          </icon-button>\n        </div>\n        <div v-if=\"!fullscreen\">\n          <icon-button\n            v-model=\"showVideoSheet\"\n            fa-icon=\"video\"\n            :color=\"buttonColor\"\n            tooltip-text=\"Watch video\"\n            tooltip-location=\"start\"\n          >\n          </icon-button>\n        </div>\n        <icon-button\n          id=\"fullscreen-icon\"\n          @activate=\"fullscreen = !fullscreen\"\n          :fa-icon=\"fullscreen ? 'compress' : 'expand'\"\n          :color=\"buttonColor\"\n          :tooltip-text=\"`${fullscreen ? 'Exit' : 'Make'} fullscreen`\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n        <div\n          id=\"options\"\n          v-hide=\"fullscreen\"\n        >\n          <div id=\"options-top-row\">\n            <icon-button\n              id=\"options-toggle\"\n              :fa-icon=\"showOptions ? 'chevron-up' : 'sliders'\"\n              :color=\"buttonColor\"\n              @activate=\"showOptions = !showOptions\"\n              tabindex=\"0\"\n              :border=\"false\"\n              background-color=\"transparent\"\n            ></icon-button>\n          </div>\n          <div\n            id=\"options-content\"\n            v-if=\"showOptions\"\n          >\n            <v-checkbox\n              v-model=\"showLabels\"\n              label=\"Object Labels\"\n              :color=\"buttonColor\"\n              hide-details\n              density=\"compact\"\n            ></v-checkbox>\n            <v-checkbox\n              v-model=\"showCircle\"\n              label=\"Region Circle\"\n              :color=\"buttonColor\"\n              hide-details\n              density=\"compact\"\n            ></v-checkbox>\n            <v-checkbox\n              v-model=\"showScalebar\"\n              label=\"Scale Bar\"\n              :color=\"buttonColor\"\n              hide-details\n              density=\"compact\"\n            ></v-checkbox>\n            <v-checkbox\n              v-if=\"!smallSize\"\n              v-model=\"showSlider\"\n              label=\"Opacity Slider\"\n              :color=\"buttonColor\"\n              hide-details\n              density=\"compact\"\n            ></v-checkbox>\n            <v-checkbox\n              v-if=\"false\"\n              v-model=\"showConstellations\"\n              label=\"Constellations\"\n              :color=\"buttonColor\"\n              hide-details\n              density=\"compact\"\n            ></v-checkbox>\n          </div>\n        </div>\n      </div>\n\n      </div>\n    </div>\n\n    <div\n      :class=\"['selected-info', smallSize ? 'selected-info-tall' : '']\"\n      v-show=\"showPlaceHighlights\"\n    > \n  </div>\n    \n\n    <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n\n    <div\n      id=\"bottom-content\"\n      v-hide=\"fullscreen\"\n    >\n      <scalebar\n        :width=\"1920\"\n        :breakpoints=\"breakpoints\"\n        :visible=\"showScalebar && !zooming\"\n        class=\"scalebar\"\n      ></scalebar>\n      <div id=\"body-logos\" v-if= \"!smallSize\">\n        <credit-logos\n          :default-logos=\"['cosmicds', 'wwt']\"\n          :extra-logos = \"[\n              {\n                alt: 'INTUITIVE Planetarium at the U.S. Space & Rocket Center',\n                src: './SpaceRocketCenterIntuitivePlanetarium-Logo-small.png',\n                href: 'https://www.rocketcenter.com/INTUITIVEPlanetarium',\n                name: 'INTUITIVE'\n              },\n              {\n                alt: 'Vera C. Rubin Observatory',\n                src: './rubin_white_2.png',\n                href: 'https://rubinobservatory.org/',\n                name: 'RubinObservatory'\n              }\n            ]\"\n        />\n      </div>\n      <infobox\n        :class=\"[{'with-scalebar': showScalebar}, {'small-size': smallSize}]\"\n        v-hide=\"fullscreen\"\n        :place=\"currentPlace\"\n        :small=\"smallSize\"\n      >\n      </infobox>\n      <div class=\"perma-credit\">Image Credit: RubinObs/NOIRLab/SLAC/NSF/DOE/AURA</div>\n    </div>\n\n    <div id=\"coming-soon\" v-if=\"!imagesLoaded[0] && !imagesLoaded[1] && showComingSoon\">\n      <!-- close icon -->\n      <font-awesome-icon\n        id=\"close-coming-soon\"\n        icon=\"times\"\n        size=\"lg\"\n        @click=\"showComingSoon = false\"\n        @keyup.enter=\"showComingSoon = false\"\n        tabindex=\"0\"\n      ></font-awesome-icon>\n      <div class=\"coming-soon-text\">\n      <h1>Coming Soon!</h1>\n      <p>\n        Please <strong>REFRESH</strong> this page after June 23, 2025, 11:20am EDT to load the Rubin First Look imagery.\n      </p>\n      <p>\n        For now, you can explore this full-sky image from NOIRLab and the Digital Sky Survey and get used to navigating around the sky in WorldWide Telescope.\n      </p>\n    </div>\n    </div>\n\n    <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        \n        <iframe id=\"info-video\"  width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/ZsIkLuw2Y68?si=wOzU-B0malOA0kW1\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>\n\n\n\n      </div>\n    </v-dialog>\n\n\n    <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n\n    <v-dialog\n      :style=\"cssVars\"\n      :class=\"['info-sheet', `info-sheet-${infoSheetLocation}`]\"\n      id=\"text-info-sheet\"\n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      :scrim=\"false\"\n      location=\"end\"\n      v-model=\"showTextSheet\"\n      :transition=\"infoSheetTransition\"\n    >\n      <v-card height=\"100%\">\n        <v-tabs\n          v-model=\"tab\"\n          height=\"32px\"\n          color=\"rubin-turquoise\"\n          slider-color=\"rubin-teal\"\n          id=\"tabs\"\n          dense\n        >\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Rubin's Science</h3></v-tab>\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>User Guide</h3></v-tab>\n        </v-tabs>\n        <font-awesome-icon\n          id=\"close-text-icon\"\n          class=\"control-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showTextSheet = false\"\n          @keyup.enter=\"showTextSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container class=\"pa-0\"  v-if=\"imagesLoaded.some(loaded => loaded)\">\n                  <p>\n                    This text is excerpted from the <a href=\"https://noirlab.edu/public/news/noirlab2521/\" target=\"_blank\" rel=\"noopener noreferrer\">Rubin First Look Press Release</a>. See the full release for more information.\n                  </p>\n                  <h4 class=\"user-guide-header\">About Rubin Observatory</h4>  \n                  <div class=\"background-header-image\"></div>\n                  <p>\n                    The NSFDOE Vera C. Rubin Observatory, a major new scientific facility jointly funded by the U.S. National Science Foundation and the U.S. Department of Energy's Office of Science, released its first imagery on June 23, 2025 at an event in Washington, D.C. The imagery shows cosmic phenomena captured at an unprecedented scale. In just over 10 hours of test observations, NSFDOE Rubin Observatory has already captured millions of galaxies and Milky Way stars and thousands of asteroids. The imagery is a small preview of Rubin Observatory's upcoming 10-year scientific mission to explore and understand some of the Universe's biggest mysteries. \n                  </p>\n                  <p>\n                    The result of more than two decades of work, Rubin Observatory is perched at the summit of Cerro Pachn in Chile, where dry air and dark skies provide one of the world's best observing locations. Rubin's innovative 8.4-meter telescope has the largest digital camera ever built, which feeds a powerful data processing system. Later in 2025, Rubin will begin its primary mission, the Legacy Survey of Space and Time, in which it will ceaselessly scan the sky nightly for 10 years to precisely capture every visible change.\n                  </p>\n                  <p>\n                    The result will be an ultrawide, ultra-high-definition time-lapse record of the Universe. It will bring the sky to life with a treasure trove of billions of scientific discoveries. The images will reveal asteroids and comets, pulsating stars, supernova explosions, far-off galaxies and perhaps cosmic phenomena that no one has seen before.\n                  </p>\n                  <h4 class=\"user-guide-header\">Who was Vera Rubin?</h4>\n                  <p class=\"pb-5\">\n                    Rubin Observatory is named in honor of trailblazing U.S. astronomer Vera C. Rubin, who found conclusive evidence of vast quantities of invisible material known as dark matter. Understanding the nature of dark matter, dark energy and other large-scale cosmic mysteries is a central focus of Rubin Observatory's mission. Dark energy is what scientists call the mysterious and colossally powerful force that appears to be causing galaxies in the Universe to move away from each other at an accelerating rate. Although dark matter and dark energy collectively comprise 95% of the Universe, their properties remain unknown.\n                  </p>\n                  <div class=\"background-rubin-image\"></div>\n                  <p>\n                    <cite>\n                      Observatory Image Credit: RubinObs/NOIRLab/SLAC/NSF/DOE/AURA/B. Quint <a href=\"https://noirlab.edu/public/images/iotw2229a/\" target=\"_blank\" rel=\"noopener noreferrer\">Link to original</a>\n                    </cite><br/>\n                    <cite>\n                      Vera Rubin Image Credit: Carnegie Institution for Science/NOIRLab. <a href=\"https://noirlab.edu/public/images/VeraRubin-6-enlarged-CC/\" target=\"_blank\" rel=\"noopener noreferrer\">Link to original</a>\n                    </cite>\n                  </p>\n                  <v-spacer class=\"end-spacer\"></v-spacer>\n                </v-container>\n                <v-container class=\"pa-0\" v-else>\n                  <p>\n                    Come back June 23rd, 11:20am EDT to learn more!\n                  </p> \n                </v-container>\n                <!-- <a href=\"https://rubin.canto.com/g/RubinVisualIdentity/index?viewIndex=0\" target=\"_blank\" rel=\"noopener noreferrer\">Rubin Visual Identity</a>\n                <v-spacer class=\"end-spacer\"></v-spacer> -->\n              </v-card-text>\n            </v-card>\n          </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container class=\"pa-0\">\n                  <p>\n                    This <a href=\"https://www.worldwidetelescope.org/home\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a> (WWT) interactive visualization provides a contextual, deep dive into the stunning new imagery from the Rubin Observatory.\n                  </p>    \n                  <h4 class=\"user-guide-header\">Navigation & Information</h4>  \n                  <ul class=\"text-list mx-5\">\n                    <li>\n                      To navigate the WWT view, use the following controls:\n                    </li>\n                  </ul>            \n                  <v-row align=\"center\" class=\"mt-2 mx-3\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \"\" : \"or\" }}  <strong>{{ touchscreen ? \"\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \"\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\" class=\"mx-3\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \"\" : \"or\" }} <strong>{{ touchscreen ? \"\" : \"I-O\" }}</strong> {{ touchscreen ? \"\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col class=\"pt-0\">\n                      <ul class=\"text-list mx-5\">\n                        <li v-if=\"imagesLoaded.every(loaded => loaded)\">\n                          <strong>{{ touchscreen ? \"Tap\" : \"Click\" }}</strong> the <strong>Go to Image {{ topLevelPlaces[mode=='a'? 1 : 0]?.get_name() }}</strong> button in the upper right to switch the view to that image.\n                        </li>\n                        <li>\n                          <strong>{{ touchscreen ? \"Tap\" : \"Click\" }}</strong> on an object <strong>Image Thumbnail</strong> or <strong>Label</strong> to pan to that object.\n                        </li>\n                        <li>\n                          <strong>Double-{{ touchscreen ? \"tap\" : \"click\" }}</strong> on an object <strong>Image Thumbnail</strong> or <strong>Label</strong> to move instantly to that object.\n                        </li>\n                        <li>\n                          <strong>{{ touchscreen ? \"Tap\" : \"Click\" }}</strong> on the object <strong>Information Box</strong> in the lower left to learn more about it.\n                        </li>\n                      </ul>   \n                    </v-col>  \n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <h4 class=\"user-guide-header\">Main View Buttons</h4>\n                      <ul class=\"text-list mx-5\">\n                        <li>\n                          <font-awesome-icon\n                            class=\"bullet-icon\"\n                            icon=\"info\"\n                            size=\"lg\" \n                          ></font-awesome-icon>\n                           open or close this information panel\n                        </li>\n                        <li><font-awesome-icon\n                            class=\"bullet-icon\"\n                            icon=\"video\"\n                            size=\"lg\" \n                          ></font-awesome-icon>\n                          view a video tutorial about this visualization\n                        </li>\n                        <li><font-awesome-icon\n                            class=\"bullet-icon\"\n                            icon=\"expand\"\n                            size=\"lg\" \n                          ></font-awesome-icon>\n                          toggle fullscreen mode ( view only the imagery with no user interface.)\n                        </li>\n                        <li> <font-awesome-icon\n                            class=\"bullet-icon\"\n                            icon=\"compress\"\n                            size=\"lg\" \n                          ></font-awesome-icon>\n                          return to the normal user interface.\n                        </li>\n                        <li><font-awesome-icon\n                            class=\"bullet-icon\"\n                            icon=\"sliders\"\n                            size=\"lg\" \n                          ></font-awesome-icon>\n                          open more control options\n                        </li>\n                      </ul>\n                      <h4 class=\"user-guide-header mt-5\">Controls</h4>\n                      <ul class=\"text-list mx-5\">\n                        <li>\n                          <strong>Object Labels</strong>: Display or hide the names of objects in the view.\n                        </li>\n                        <li>\n                          <strong>Region Markers</strong>: Display or hide the boxes that roughly delineate the labeled objects.\n                        </li>\n                        <li>\n                          <strong>Scale Bar</strong>: Display or hide the scale bar that contextualizes how much of the sky you are seeing.\n                        </li>                           \n                        <li>\n                          <strong>Opacity Slider</strong>: Display or hide the opacity slider that lets you compare the new Rubin imagery with a background sky from NOIRLab and the Digitized Sky Survey.\n                        </li>                        \n                        <li>\n                          <strong>Constellations</strong>: Display or hide the constellation lines and labels to orient yourself in the sky.\n                        </li>          \n                      </ul>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h4>Credits:</h4>\n                      <p>\n                        Rubin imagery and informational text provided by <strong><a href=\"https://noirlab.edu/\">NOIRLab</a></strong>.\n                      </p>\n                      <h5><a href=\"https://www.rocketcenter.com/INTUITIVEPlanetarium\" target=\"_blank\" rel=\"noopener noreferrer\"><em>INTUITIVE</em>&reg; Planetarium at the U.S. Space & Rocket Center</a></h5>\n                      <p>David Weigel</p>\n                      <h5><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a></h5>\n                      <p>Alyssa Goodman</p>\n                      <p>Pat Udomprasert</p>\n                      <p>Jon Carifio</p>\n                      <p>John Lewis</p>\n\n                      <h5><a href=\"https://www.worldwidetelescope.org/home\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a></h5>\n                      <p>Peter Williams</p>\n                      <p>Jon Carifio</p>\n                      <p>David Weigel</p>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col>\n                      <funding-acknowledgement/>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n    \n  </div>\n</v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { storeToRefs } from \"pinia\";\nimport { ref, reactive, computed, watch, onMounted, nextTick } from \"vue\";\nimport { useFullscreen } from \"./composables/useFullscreen\";\nimport { D2R, H2R, distance } from \"@wwtelescope/astro\";\nimport { Circle, Folder, Imageset, Place, WWTControl } from \"@wwtelescope/engine\";\nimport { ImageSetType, Thumbnail } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls } from \"@cosmicds/vue-toolkit\";\nimport { RUBIN_COLORS } from \"../plugins/vuetify\";\nimport { useDisplay, useTheme } from \"vuetify\";\nimport { type ItemSelectionType } from \"./types\";\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface RubinFirstLookProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst store = engineStore();\nconst { raRad, decRad, zoomDeg } = storeToRefs(store);\n\nuseWWTKeyboardControls(store);\n\nconst fullscreen = useFullscreen();\n\nconst touchscreen = supportsTouchscreen();\n// TODO: Determine this in a better way\nconst display = useDisplay();\nconst theme = useTheme();\n\nwithDefaults(defineProps<RubinFirstLookProps>(), {\n  wwtNamespace: \"rubin-first-look\",\n});\n\nconst breakpoints = [\n  [15, 3.5, \"~ Rubin Field of View (3.5 degrees)\"],\n  [4, 3.5, \"Rubin Field of View (3.5 degrees)\"],\n  [1, 0.5, \"Full Moon (0.5 degrees)\"],\n  [0.25, 5 / 60, \"JWST Field of View (5 arcmin)\"],\n  [5 / 60, 1 / 60, \"1 arcmin\"],\n  [1 / 60, 30 / 3600, \"0.5 arcmin\"],\n  [0, 1 / 3600, \"1 arcsec\"],\n];\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => {\n  return display.smAndDown.value && (display.height.value > 1.2 * display.width.value);\n});\n\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst zooming = ref(false);\nconst opacity = ref(100);\n\nlet zoomTimeout: ReturnType<typeof setTimeout> | null = null;\n// See https://rubin.canto.com/g/RubinVisualIdentity/index?viewIndex=0\nconst accentColor = computed(() => theme.global.current.value.colors.primary);\nconst buttonColor = computed(() => theme.global.current.value.colors.primaryVariant);\nconst thumbnailColor = computed(() => theme.global.current.value.colors.info);\nconst highlightColor = computed(() => theme.global.current.value.colors.accent);\nconst textColor = computed(() => theme.global.current.value.colors[\"on-background\"]);\nconst tab = ref(0);\n\nconst imageAPlacesURL = \"https://data1.wwtassets.org/noirlab2521a/a_places.wtml\";\nconst imageBPlacesURL= \"https://data1.wwtassets.org/noirlab2521b/b_places.wtml\";\nconst selectedItem = ref<Thumbnail | null>(null);\n\nconst lowerLevelPlaces: Place[] = [];\nconst topLevelPlaces: Place[] = [];\nconst highlightsA = ref(new Folder());\nconst highlightsB = ref(new Folder());\nconst currentPlace = ref<Place | null>(null);\nconst mainImageInView = ref(false);\n\ntype Mode = \"a\" | \"b\";\nconst mode = ref<Mode>(\"a\");\nconst folder = computed(() => (mode.value == \"a\" && imagesLoaded.value[0]) ? highlightsA.value : highlightsB.value);\n\nconst INFOBOX_ZOOM_CUTOFF = 25;\nconst SMALL_LABELS_ZOOM = 25;\nlet circle: Circle | null = null;\nconst showOptions = ref(false);\nconst showCircle = ref(false);\nconst showLabels = ref(false);\nconst showScalebar = ref(!smallSize.value);\nconst showSlider = ref(false);\nconst showConstellations = ref(false);\nconst highlightPlaceFromZoom = computed(() => zoomDeg.value < INFOBOX_ZOOM_CUTOFF);\nconst showPlaceHighlights = computed(() => !showTextSheet.value && currentPlace.value !== null && highlightPlaceFromZoom.value);\nconst atTopLevel = computed(() => zoomDeg.value > SMALL_LABELS_ZOOM);\n\nimport { useTrackedElements } from \"./composables/useTrackedElements\";\nconst _ute = useTrackedElements(\"\", store);\n\n// Offsets are in RA/Dec \n// If you passt them to :offset-x, or :offset-y instead\n// offset ra will be how left/right the label is offset and \n// // offset dec will be how up/down the label is offset\ninterface Offset {\n  raOff: number;\n  decOff: number;\n  rollDeg?: number; // then name of the top-level\n}\n\ntype OffsetRecords = Record<string, Offset>;\nconst offsets = ref<OffsetRecords>({});\n\nfunction rotateOffsetToScreen(offset: Offset): Offset {\n  // Rotate the offset to the screen orientation\n  const cosRoll = Math.cos((offset.rollDeg ?? 0) * D2R);\n  const sinRoll = Math.sin((offset.rollDeg ?? 0) * D2R);\n  return {\n    raOff: offset.raOff * cosRoll + offset.decOff * sinRoll,\n    decOff: -offset.raOff * sinRoll + offset.decOff * cosRoll,\n  };\n}\n\n\n\nfetch(\"https://data1.wwtassets.org/noirlab2521/offsets.json\")\n  .then(response => response.json())\n  .then(data => {\n    const keys = Object.keys(data);\n    keys.forEach(key => {\n      const offset = data[key] as Offset;\n      // Rotate the offset to the screen orientation\n      data[key] = rotateOffsetToScreen(offset);\n    });\n    offsets.value = data as OffsetRecords;\n    \n  })\n  .catch(error => {\n    console.error(\"Error fetching offsets:\", error);\n  });\n  \nconst imagesLoaded = ref<[boolean, boolean]>([false, false]);\nconst showComingSoon = ref(false);\nwatch(imagesLoaded, (newValue) => {\n  showComingSoon.value = !newValue[0] && !newValue[1];\n}, { immediate: true });\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    // window.addEventListener('contextmenu', function(event) {\n    //   event.stopImmediatePropagation();\n    // }, true);\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n    const loadPromises = [imageAPlacesURL, imageBPlacesURL].map(url => {\n      return store.loadImageCollection({\n        url,\n        loadChildFolders: false,\n      });\n    });\n    Promise.all(loadPromises).then(loadedFolders => {\n      loadedFolders.forEach((loadedFolder, index) => {\n        const children = loadedFolder.get_children();\n        const highlightsFolder = new Folder();\n        children?.forEach((item, index) => {\n          if (item instanceof Place) {\n            if (index === 0) {\n              highlightsFolder.addChildPlace(item);\n              topLevelPlaces.push(item);\n            } else {\n              if (item.get_names().length == 1) {\n                highlightsFolder.addChildPlace(item);\n              }\n              lowerLevelPlaces.push(item);\n            }\n          }\n        });\n        const highlightsRef = index === 0 ? highlightsA : highlightsB;\n        highlightsRef.value = highlightsFolder;\n        const length = highlightsRef.value.get_children()?.length ?? 0;\n        imagesLoaded.value = imagesLoaded.value.map((loaded, i) => i === index ? length > 0 : loaded) as [boolean, boolean];\n      });\n    }).then(() => {\n      positionSet.value = true;\n      layersLoaded.value = true;\n      gotoMainImage(mode.value, true);\n    });\n    \n    store.loadImageCollection({\n      url: \"bg.wtml\",\n      loadChildFolders: false,\n    }).then(bgFolder => {\n      const children = bgFolder.get_children();\n      if (children !== null) {\n        const item = children[0];\n        if (item instanceof Imageset) {\n          store.setBackgroundImageByName(item.get_name());\n        }\n      }\n    });\n\n    updateClosestPlace();\n\n  });\n});\n\nfunction findClosest(places: Place[]): Place | null {\n  let closest = currentPlace.value;\n  let closestDist = closest === null ? null : distanceFromCenter(closest);\n\n  places.forEach(place => {\n    const dist = distanceFromCenter(place);\n    if ((!isNaN(dist)) && ((closestDist === null) || (dist < closestDist))) {\n      closest = place;\n      closestDist = dist;\n    }\n  });\n\n  return closest !== null && placeInView(closest) ? closest : null;\n}\n\nconst closestPlace = ref<Place | null>(null);\nfunction updateClosestPlace() {\n  currentPlace.value = findClosest(atTopLevel.value ? topLevelPlaces : lowerLevelPlaces);\n  closestPlace.value = currentPlace.value;\n}\n\nconst forceShowCircle = ref(false);\nconst _onMarkerHover = (place: Place, show: boolean) => {\n  forceShowCircle.value = show;\n  console.log(place.get_name(), closestPlace.value?.get_name());\n  currentPlace.value = show ? place : closestPlace.value; \n};\n\nfunction updateCircle(place: Place | null) {\n  if (!highlightPlaceFromZoom.value || place === null) {\n    if (!forceShowCircle.value) {\n      circle?.set_opacity(0);\n      return;\n    }\n  }\n\n  if (circle === null) {\n    circle = new Circle();\n    circle.set_id(\"infobox\");\n    circle.set_lineWidth(3);\n    circle.set_lineColor(\"#ffffff\");\n    circle.set_skyRelative(true);\n    store.addAnnotation(circle);\n  }\n\n  circle.set_opacity(showCircle.value ? 1 : 0);\n  circle.setCenter(place.get_RA() * 15, place.get_dec());\n  circle.set_radius(place?.angularSize);\n}\n\nimport { copyPlace } from \"./wwt-hacks\";\nfunction gotoMainImage(image: Mode, instant=false) {\n  const index = image === \"a\" ? 0 : 1;\n  const item = copyPlace(topLevelPlaces[index]);\n  item.set_zoomLevel(zoomLevelForPlace(item) * 1.2);\n  store.gotoTarget({\n    place: item,\n    noZoom: false,\n    instant,\n    trackObject: false,\n  });\n}\n\nfunction wwtSmallestFov() {\n  const renderContext = WWTControl.singleton.renderContext;\n  const fovH = renderContext.get_fovAngle() * D2R;\n  const fovW = fovH * renderContext.width / renderContext.height;\n  return Math.min(fovW, fovH);\n}\n\nfunction zoomLevelForPlace(place: Place): number {\n  // we want the wwt zoom level  to be same as the places .get_zoomLevel()\n  const {width, height} = WWTControl.singleton.renderContext;\n  // console.log(width, height, place.get_zoomLevel()/6 * D2R, wwtSmallestFov());\n  if (width > height) {\n    // landscape\n    return place.get_zoomLevel();\n  }\n  return place.get_zoomLevel() * (height / width);\n}\n\nfunction distanceFromCenter(place: Place): number {\n  return distance(place.get_RA() * H2R, place.get_dec() * D2R, raRad.value, decRad.value);\n}\n\nfunction placeInView(place: Place, fraction=0.0): boolean {\n  // checks if the center of place is in the current field of view\n  // Assume the Zoom level corresponds to the size of the image\n  // fraction is ~fraction of the place that must be in the current FOV\n  // by default, allow 1/2 of the place to be visible and still be considered in view\n  if (place == null) {\n    return false;\n  }\n  const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n  if (iset == null) {\n    return false;\n  }\n\n  let dist = distanceFromCenter(place);\n  const isetFov = (place.get_zoomLevel() / 6) * D2R;\n  const curFov = wwtSmallestFov();\n\n  dist += (fraction - 0.5) * isetFov;\n  return dist < curFov / 2;\n}\n\nfunction handleSelection(item: Thumbnail, selection: ItemSelectionType) {\n  if (item instanceof Imageset) {\n    store.setForegroundImageByName(item.get_name());\n    const type = item.get_dataSetType();\n    if (type === ImageSetType.planet) {\n      store.setBackgroundImageByName(item.get_name());\n    }\n  } else if (item instanceof Place) {\n    const imageset = item.get_backgroundImageset() ?? item.get_studyImageset();\n    if (imageset !== null) {\n      store.setForegroundImageByName(imageset.get_name());\n    }\n\n    const instant = selection === \"dblclick\";\n    if (selection !== \"folder\") {\n\n      store.gotoTarget({\n        place: item,\n        noZoom: false,\n        instant,\n        trackObject: true,\n      });\n    }\n  }  \n\n  selectedItem.value = item;\n}\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nconst infoFraction = 34;\nconst infoSheetLocation = computed(() => smallSize.value ? \"bottom\" : \"right\");\nconst infoSheetHeight = computed(() => infoSheetLocation.value === \"bottom\" ? `${infoFraction}%` : \"100%\");\nconst infoSheetWidth = computed(() => infoSheetLocation.value === \"bottom\" ? \"100%\" : `${infoFraction}%`);\nconst infoTextHeight = computed(() => infoSheetLocation.value === \"bottom\" ? `calc(${infoFraction}vh - 25px)` : \"calc(100vh - 25px)\");\nconst infoSheetTransition = computed(() => infoSheetLocation.value === \"bottom\" ? \"dialog-bottom-transition\" : \"tab-reverse-transition\");\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  const rubinColors = Object.keys(RUBIN_COLORS).reduce((acc: Record<string, string>, key: string) => {\n    acc[`--${key}`] = RUBIN_COLORS[key];\n    return acc;\n  }, {});\n  return {\n    ...rubinColors,\n    \"--accent-color\": accentColor.value,\n    \"--button-color\": buttonColor.value,\n    \"--thumbnail-color\": thumbnailColor.value,\n    \"--app-content-height\": showTextSheet.value && infoSheetLocation.value === \"bottom\" ? `${100 - infoFraction}vh` : \"100dvh\",\n    \"--app-content-width\": showTextSheet.value && infoSheetLocation.value === \"right\" ? `${100 - infoFraction}vw` : \"100dvw\",\n    \"--info-sheet-width\": infoSheetWidth.value,\n    \"--info-sheet-height\": infoSheetHeight.value,\n    \"--info-text-height\": infoTextHeight.value,\n  };\n});\n\n  \n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  // showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction onMove() {\n  if (placeInView(topLevelPlaces[0])) {\n    mode.value = \"a\";\n    mainImageInView.value = true;\n  } else if (placeInView(topLevelPlaces[1])) {\n    mode.value = \"b\";\n    mainImageInView.value = true;\n  } else {\n    mainImageInView.value = false;\n  }\n  updateClosestPlace();\n}\n\nfunction onZoomChange(newZoom: number, oldZoom: number) {\n  zooming.value = Math.abs((newZoom - oldZoom) / oldZoom) > 0.01;\n  updateClosestPlace();\n  updateCircle(currentPlace.value);\n  if (zooming.value) {\n    zoomTimeout = setTimeout(() => {\n      zooming.value = false;\n    }, 100);\n  } else if (zoomTimeout) {\n    clearTimeout(zoomTimeout);\n  }\n\n}\n\nwatch(raRad, (_ra: number) => onMove());\nwatch(decRad, (_dec: number) => onMove());\nwatch(zoomDeg, onZoomChange);\nwatch(showCircle, (_show: boolean) => updateCircle(currentPlace.value));\nwatch(showConstellations, (show: boolean) => {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n});\nwatch(currentPlace, updateCircle);\nwatch(mode, (newMode: Mode) => {\n  theme.global.name.value = newMode === \"a\" ? \"rubinA\" : \"rubinB\";\n  opacity.value = 100;\n});\nwatch(opacity, store.setForegroundOpacity);\n</script>\n\n<style lang=\"less\">\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap');\n\n:root {\n  --default-font-size: clamp(0.7rem, min(1.7vh, 1.7vw), 1.1rem);\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  scrollbar-color: rgb(var(--v-theme-rubin-teal-2)) transparent;\n  \n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  \n  font-family: \"Source Sans 3\", Helvetica, sans-serif;\n  font-weight: regular;\n  color: rgb(var(--v-theme-on-background));\n}\n\n#main-content {\n  position: fixed;\n  height: var(--app-content-height);\n  width: var(--app-content-width);\n  overflow: hidden;\n\n  transition: width 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n#top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  .icon-wrapper {\n    width: fit-content;\n  }\n}\n\n.icon-wrapper {\n  border-radius: 0.75em;\n}\n.svg-inline--fa {\n  aspect-ratio: 1.3 / 1;\n}\n\n#right-buttons, #right-buttons > div {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: flex-end;\n  height: auto;\n}\n\n@media (max-width: 600px) {\n  .icon-wrapper {\n    font-size: 0.8em;\n  }\n}\n\n\n#bottom-content {\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  bottom: 8px;\n  right: 0;\n  width: fit-content;\n  align-items: flex-end;\n  pointer-events: auto;\n  align-items: flex-end;\n  gap: 10px;\n}\n\n#body-logos {\n  align-self: flex-end;\n  img {\n    margin-inline: 1rem;\n  }\n}\n\n#body-logos a{\n  margin-inline: 1rem;\n}\n\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible,\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.video-wrapper {  \n  display: flex;\n  padding: 10px;\n  height: 100%;\n  max-width: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(2px);\n  text-align: center;\n  z-index: 1000;\n  // border: 1px solid white;\n}\n\nvideo, #info-video {\n  margin: auto;\n  height: 90%; \n  // width: fit-content;\n  max-width: 95%;\n  object-fit: contain;\n\n}\n\n#video-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 1000;\n}\n\n.info-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0 !important;\n    max-width: 100% !important;\n    height: var(--info-sheet-height) !important;\n    width: var(--info-sheet-width) !important;\n  }\n\n  &.info-sheet-right .v-overlay__content {\n    position: absolute;\n    top: 0;\n    right: 0;\n    max-height: 100%;\n    & .v-card, & .v-card .v-window {\n      height: 100%;\n    }\n    \n    & .info-tabs h3 {\n      font-size: 10pt;\n    }\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n  \n  div.background-header-image {\n    width: 100%;\n    height: 100px;\n    background-image: url(\"https://storage.noirlab.edu/media/archives/images/screen/iotw2229a.jpg\");\n    background-size: cover;\n    background-position: center;\n    position: relative;\n    margin-bottom: 2em;\n  }\n  \n  div.background-rubin-image {\n    width: 80%;\n    aspect-ratio: 1 / 1;;\n    background-image: url(\"@/assets/Vera_Rubin_measuring_spectra.jpg\");\n    background-size: cover;\n    background-position: center;\n    position: relative;\n    margin-bottom: 2em;\n  }\n  \n  cite {\n      color: rgb(var(--v-theme-rubin-teal-3));\n      font-size:0.9em;\n  }\n  \n  .info-text {\n    height: var(--info-text-height);\n    padding-bottom: 25px;\n\n    p {\n      margin-block: 0.5em;\n    }\n\n    a {\n      color: var(--rubin-teal-2)\n    }\n\n\n    h4 {\n      font-size: 1.2em;\n    }\n\n    h5 {\n      font-size: 1em;\n      font-weight: bold;\n      margin-top: 1em;\n    }\n\n    li {\n      margin-block: 0.5em;\n    }\n  }\n\n  .bullet-icon {\n    color: var(--button-color);\n    width: 1.6em;\n    padding-right: 0.5em;\n  }\n  \n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n  \n    &:hover {\n      cursor: pointer;\n    }\n  \n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n  \n  .scrollable {\n    overflow-y: auto;\n  }\n  \n  #tab-items {\n    // padding-bottom: 2px !important;\n  \n    .v-card-text {\n      font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n      padding: 1em;\n  \n      .end-spacer {\n        height: 25px;\n      }\n    }\n  \n  }\n  \n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n}\n\n.selected-info {\n  position: absolute;\n  padding: 10px;\n  top: 10px;\n  right: 10px;\n  max-width: 30%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n.selected-info.selected-info-tall {\n  max-width: 60%;\n  top: 20px;\n}\n\n// make sure we get the scrollbar for the folder view\n.fv-root { // account for button and padding\n  max-height: calc(var(--app-content-height) - 2rem - 2rem);\n}\n\n\n\n\n.tracked-element {\n  pointer-events: auto;\n  transition: scale 0.2s ease-in-out;\n}\n\n.tracked-element:hover {\n  scale: 1.2;\n  z-index: 10;\n}\n\n.tracked-places {\n  width: max-content;\n  font-size: 0.8em;\n  padding: 0.25em 0.5em;\n  color: white;\n  background-color: rgba(0, 0, 0, 0.51);\n  border: 0.5px solid rgb(var(--v-theme-rubin-teal-4));\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  // transform: translate(-50%, -50%); // center on the point\n  transform: translateY(-50%) translateX(1.5em);\n  position: absolute;\n}\n\n.tracked-places.top-level-place {\n  font-size: 1em;\n  padding: 0.5em 1em;\n  color: rgb(var(--v-theme-rubin-teal-2));\n  transform: translate(-50%, -100%); \n}\n\n\n.tracked-places.star {\n  transform: translateY(-50%) translateX(0.5em);\n}\n\n// .tracked-places:not(.star):before {\n//   position: absolute;\n//   content:'';\n//   box-shadow: 0px 0px 0px 2px black, 0px 0px 0px 4px white;\n//   width: 0.5em;\n//   height: 0px;\n//   border-radius: 50%;\n//   top: 50%;\n//   left: -1em;\n//   transform: translateY(-50%) translateX(-50%);\n// }\n\n\n\n\n#options {\n  background: black;\n  border: 1px solid rgb(var(--v-theme-primaryVariant));\n  border-radius: 0.75em;\n  pointer-events: auto;\n\n  .icon-wrapper {\n    border: none;\n  }\n\n  #options-top-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n\n  #options-content {\n    padding: 5px;\n  }\n  \n  input[type=\"checkbox\"] {\n    color: rgb(var(--v-theme-rubin-teal-2));\n  }\n}\n\n.fv-header {\n  font-size: 11pt;\n  font-weight: bold;\n  min-width: 96px;\n\n  svg {\n    padding: 0px 5px;\n    cursor: pointer;\n    float: right;\n  }\n}\n\n.infobox {\n  position: fixed;\n  left: 5px;\n  bottom: 30px;\n  max-width: 50%;\n  max-height: 50dvh;\n  overflow-y: scroll;\n  scrollbar-color: rgb(var(--v-theme-rubin-teal-2)) transparent;\n}\n\n.infobox.small-size {\n  overflow-y: visible;\n}\n#app details.expansion-panel[open] > summary > strong {\n  font-size: 1.2em;\n}\n\n@media (max-width: 644px) {\n  .infobox.small-size.with-scalebar {\n    bottom: 70px;\n    left: 25%;\n    transform: translateX(-50%);\n  }\n}\n\n.perma-credit {\n  position: fixed;;\n  bottom: 0;\n  left: 0;\n  padding: 5px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  text-align: center;\n  font-size: 0.9em;\n}\n\n#center-buttons {\n  min-width: 2rem;\n}\n#goto-other-image {\n  pointer-events: auto;\n  cursor: pointer;\n  padding: 5px 10px;\n  font-size: min(16px, 5vw);\n  border-radius: 10px;\n  user-select: none;\n\n  @media only screen and (max-width: 600px) {\n    font-size: 11pt;\n  }\n}\n\n@media (max-width: 960px) {\n  #goto-other-image {\n    font-size: min(16px, 4vw);\n    padding: 5px 5px;\n  }\n}\n\n// when in mode-a we want to show the button with mode-b colors\n#goto-other-image.go-to-b {\n  --bg: var(--v-theme-rubin-deep-charcoal);\n  // background-color: rgb(var(--bg)); // fallback\n  background: radial-gradient(circle, rgba(var(--bg), 0.8) 0%, rgba(var(--bg), 0.6) 100%);\n  backdrop-filter: blur(5px); \n  color: rgb(var(--v-theme-rubin-off-white));\n  border: 1px solid rgb(var(--v-theme-rubin-teal));\n}\n\n// when in mode-b we want to show the button with mode-a colors\n#goto-other-image.go-to-a {\n  --bg: var(--v-theme-rubin-teal);\n  // background-color: rgb(var(--v-theme-rubin-teal)); // fallback\n  background: radial-gradient(circle, rgba(var(--bg), 0.9) 0%, rgba(var(--bg), 0.8) 100%);\n  color: rgb(var(--v-theme-rubin-off-white));\n  border: 1px solid rgb(var(--v-theme-rubin-off-white));\n}\n\n\n#app details.expansion-panel {\n  border-radius: 0.5em;\n}\n#app .fv-root.folder-view {\n  border-radius: 0.5em;\n  padding: calc(0.75em / 2);\n  \n  .item-name {\n    font-size: 0.9em;\n    line-height: 1.1;\n  }\n}\n\n.infobox-content {\n  p {\n    margin-bottom: 1em;\n  }\n}\n\na {\n  color: rgb(var(--rubin-teal-2));\n  text-decoration: underline;\n  font-weight: regular;\n}\n\na:visited {\n  color: rgb(var(--rubin-teal-2));\n}\n\nh4 {\n  color: var(--rubin-gray-1);\n  font-weight: bold;\n}\n\n.scalebar {\n  display: inline-block;\n  width: fit-content;\n  border-radius: 5px;\n}\n\n.opacity-slider {\n  background-color: rgba(33, 33, 33, 0.7);\n  padding-inline: 0.5em;\n  border-radius: 5px;\n}\n\n#center-buttons {\n  width: 50%;\n}\n\n.v-slider {\n  width: 100% !important;\n  pointer-events: auto;\n}\n\n#coming-soon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: min(75vw, 75vh);\n  aspect-ratio: 1 / 1;\n  transform: translate(-50%, -50%);\n  background-color: rgb(var(--v-theme-rubin-teal-6));\n  \n  \n  font-size: min(3vw, 3vh);\n  padding: 1em;\n  \n  border: 1em solid rgb(var(--v-theme-rubin-teal-3));\n  border-radius: 1em;\n  color: rgb(var(--v-theme-deep-charcoal));\n  \n  .coming-soon-text {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  h1 {\n    margin-top: 0.5em;\n    font-size: 3em;\n    line-height: 1.2;\n  }\n  \n  p {\n    margin-block: 0.75em;\n  }\n  \n  #close-coming-soon {\n    float: right;\n    font-size: 1.5em;\n    color: rgb(var(--v-theme-rubin-turquoise));\n  }\n\n}\n</style>\n","import script from \"./RubinFirstLook.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RubinFirstLook.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RubinFirstLook.vue?vue&type=style&index=0&id=eee24fb4&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withKeys as _withKeys, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"fv-header-container\" }\nconst _hoisted_2 = { class: \"fv-content\" }\nconst _hoisted_3 = [\"title\", \"onClick\", \"onDblclick\", \"onKeydown\", \"aria-label\", \"aria-selected\"]\nconst _hoisted_4 = [\"src\", \"alt\"]\nconst _hoisted_5 = { class: \"item-name\" }\n\nimport { computed, onMounted, ref, watch, type Ref } from \"vue\";\nimport { Folder, FolderUp, Place } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\nimport { FolderViewProps, ItemSelectionType } from \"../types\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'FolderView',\n  props: {\n    rootFolder: {},\n    flexDirection: {},\n    gap: { default: \"5px\" },\n    backgroundColor: { default: \"black\" },\n    thumbnailColor: { default: \"white\" },\n    highlightColor: { default: \"#1671e0\" },\n    textColor: { default: \"white\" },\n    startExpanded: { type: Boolean, default: true }\n  },\n  emits: [\"select\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst items: Ref<Thumbnail[] | null> = ref<Thumbnail[]>([]);\nconst lastSelectedItem: Ref<Thumbnail | null> = ref(null);\n\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst expanded = ref(props.startExpanded);\nfunction toggleExpanded() {\n  expanded.value = !expanded.value;\n}\n\nfunction updateFolder(folder: Folder) {\n  const folderItems = folder.get_children()?.filter(item => item instanceof Place) ?? [];\n  items.value = folderItems;\n  const firstItem = items.value.find((item) => (!(item instanceof Folder) || (item instanceof FolderUp)));\n  if (firstItem) {\n    selectItem(firstItem, \"folder\");\n  }\n}\n\nfunction selectItem(item: Thumbnail, type: ItemSelectionType) {\n  lastSelectedItem.value = item;\n  if (item instanceof Folder || item instanceof FolderUp) {\n    items.value = item.get_children();\n  }\n\n  emit(\"select\", { item, type });\n}\n\nonMounted(() => {\n  updateFolder(props.rootFolder);\n});\n\nwatch(() => props.rootFolder, updateFolder);\n\nconst cssVars = computed(() => ({\n  \"--flex-direction\": props.flexDirection,\n  \"--background-color\": props.backgroundColor,\n  \"--thumbnail-color\": props.thumbnailColor,\n  \"--highlight-color\": props.highlightColor,\n  \"--text-color\": props.textColor,\n  \"--gap\": props.gap,\n}));\n\nreturn (_ctx: any,_cache: any) => {\n  return (items.value !== null)\n    ? (_openBlock(), _createElementBlock(\"nav\", {\n        key: 0,\n        class: \"fv-root\",\n        style: _normalizeStyle(cssVars.value),\n        \"aria-role\": \"navigation\",\n        \"aria-label\": \"Available Locations\"\n      }, [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _renderSlot(_ctx.$slots, \"header\", {\n            expanded: expanded.value,\n            toggleExpanded: toggleExpanded\n          })\n        ]),\n        _withDirectives(_createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items.value, (item) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: _normalizeClass(['item', lastSelectedItem.value === item ? 'selected' : '']),\n              key: item.get_name(),\n              title: item.get_name(),\n              onClick: () => selectItem(item, 'click'),\n              onDblclick: () => selectItem(item, 'dblclick'),\n              onKeydown: _withKeys(() => selectItem(item, 'keyup'), [\"enter\"]),\n              tabindex: \"0\",\n              role: \"button\",\n              \"aria-label\": item.get_name(),\n              \"aria-selected\": lastSelectedItem.value === item\n            }, [\n              _createElementVNode(\"img\", {\n                src: item.get_thumbnailUrl(),\n                alt: item.get_name()\n              }, null, 8, _hoisted_4),\n              _createElementVNode(\"div\", _hoisted_5, _toDisplayString(item.get_name()), 1)\n            ], 42, _hoisted_3))\n          }), 128))\n        ], 512), [\n          [_vShow, expanded.value]\n        ])\n      ], 4))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\n  <nav\n    class=\"fv-root\"\n    v-if=\"items !== null\"\n    :style=\"cssVars\"\n    aria-role=\"navigation\"\n    aria-label=\"Available Locations\"\n  >\n    <div\n      class=\"fv-header-container\"\n    >\n      <slot\n        name=\"header\"\n        :expanded=\"expanded\"\n        :toggle-expanded=\"toggleExpanded\"\n      ></slot>\n    </div>\n    <div\n      v-show=\"expanded\"\n      class=\"fv-content\"\n    >\n      <div\n        :class=\"['item', lastSelectedItem === item ? 'selected' : '']\"\n        v-for=\"item of items\"\n        :key=\"item.get_name()\"\n        :title=\"item.get_name()\"\n        @click=\"() => selectItem(item, 'click')\"\n        @dblclick=\"() => selectItem(item, 'dblclick')\"\n        @keydown.enter=\"() => selectItem(item, 'keyup')\"\n        tabindex=\"0\"\n        role=\"button\"\n        :aria-label=\"item.get_name()\"\n        :aria-selected=\"lastSelectedItem === item\"\n      >\n        <img :src=\"item.get_thumbnailUrl()\" :alt=\"item.get_name()\" />\n        <div\n          class=\"item-name\"\n        >{{item.get_name()}}</div>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch, type Ref } from \"vue\";\nimport { Folder, FolderUp, Place } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\nimport { FolderViewProps, ItemSelectionType } from \"../types\";\n\nconst items: Ref<Thumbnail[] | null> = ref<Thumbnail[]>([]);\nconst lastSelectedItem: Ref<Thumbnail | null> = ref(null);\n\n\nconst props = withDefaults(defineProps<FolderViewProps>(), {\n  gap: \"5px\",\n  highlightColor: \"#1671e0\",\n  thumbnailColor: \"white\",\n  backgroundColor: \"black\",\n  textColor: \"white\",\n  startExpanded: true,\n});\n\nconst emit = defineEmits<{\n  (event: \"select\", data: { item: Thumbnail, type: ItemSelectionType }): void;\n}>();\n\nconst expanded = ref(props.startExpanded);\nfunction toggleExpanded() {\n  expanded.value = !expanded.value;\n}\n\nfunction updateFolder(folder: Folder) {\n  const folderItems = folder.get_children()?.filter(item => item instanceof Place) ?? [];\n  items.value = folderItems;\n  const firstItem = items.value.find((item) => (!(item instanceof Folder) || (item instanceof FolderUp)));\n  if (firstItem) {\n    selectItem(firstItem, \"folder\");\n  }\n}\n\nfunction selectItem(item: Thumbnail, type: ItemSelectionType) {\n  lastSelectedItem.value = item;\n  if (item instanceof Folder || item instanceof FolderUp) {\n    items.value = item.get_children();\n  }\n\n  emit(\"select\", { item, type });\n}\n\nonMounted(() => {\n  updateFolder(props.rootFolder);\n});\n\nwatch(() => props.rootFolder, updateFolder);\n\nconst cssVars = computed(() => ({\n  \"--flex-direction\": props.flexDirection,\n  \"--background-color\": props.backgroundColor,\n  \"--thumbnail-color\": props.thumbnailColor,\n  \"--highlight-color\": props.highlightColor,\n  \"--text-color\": props.textColor,\n  \"--gap\": props.gap,\n}));\n</script>\n\n<style scoped lang=\"less\">\n.fv-root {\n  width: auto;\n\theight: 100%;\n  overflow-x: auto;\n  overflow-y: auto;\n  background: var(--background-color);\n\n\t&::-webkit-scrollbar {\n    padding: 1px;\n    height: 3px;\n\t\twidth: 10px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.07);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #1671e0;\n    border-radius: 10px;\n  }\t\n\n  //width: 100%;\n  //justify-content: space-around;\n}\n\n.fv-header-container {\n  pointer-events: auto;\n  padding: 5px;\n  user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n}\n\n.fv-content {\n  margin: auto;\n  display: flex;\n  flex-direction: var(--flex-direction);\n  align-items: center;\n  justify-content: space-around;\n  gap: var(--gap);\n\n  &::after {\n    content: \"\";\n    height: 0px;\n  }\n}\n\n.item {\n  padding: 1px;\n  border: 1px solid #444;\n  background: var(--thumbnail-color);\n  border-radius: 2px;\n  width: ~\"min(96px, 22vw)\";\n  color: var(--text-color);\n  cursor: pointer;\n  pointer-events: auto;\n\n  & img {\n    width: 100%;\n    height: ~\"min(45px, 10.3vw)\";\n    object-fit: cover;\n    border-radius: 2px;\n  }\n\t\n\t&:hover {\n\t\tborder: 2px solid var(--highlight-color);\n\t\ttransition: all 200ms ease-out;\n  }\n\n  &.selected {\n    border: 2px solid var(--highlight-color);\n  }\n}\n\n.item-name {\n  color: var(--text-color);\n  width: 100%;\n  line-height: 1;\n  // text-overflow: ellipsis;\n  // overflow: hidden;\n  // white-space: nowrap;\n  padding-left: 2px;\n}\n</style>\n","import script from \"./FolderView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FolderView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FolderView.vue?vue&type=style&index=0&id=8b394600&scoped=true&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8b394600\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"open\"]\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = { class: \"footer\" }\n\ninterface Props {\n  title?: string;\n  content?: string;\n  normallyOpen?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ExpansionWrapper',\n  props: {\n    title: {},\n    content: {},\n    normallyOpen: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"details\", {\n    class: \"expansion-panel\",\n    open: _ctx.normallyOpen\n  }, [\n    _createElementVNode(\"summary\", null, [\n      _renderSlot(_ctx.$slots, \"title\", {}, () => [\n        _createElementVNode(\"strong\", null, _toDisplayString(_ctx.title), 1)\n      ])\n    ]),\n    _createElementVNode(\"article\", null, [\n      _renderSlot(_ctx.$slots, \"content\", {}, () => [\n        _createElementVNode(\"div\", { innerHTML: _ctx.content }, null, 8, _hoisted_2)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"actions\")\n    ])\n  ], 8, _hoisted_1))\n}\n}\n\n})","<script setup lang=\"ts\">\n\ninterface Props {\n  title?: string;\n  content?: string;\n  normallyOpen?: boolean;\n}\n\nwithDefaults(defineProps<Props>(), {\n  normallyOpen: false,\n});\n\n</script>\n\n<template>\n  <details class=\"expansion-panel\" :open=\"normallyOpen\">\n    <summary>\n      <slot name=\"title\" ><strong>{{ title }}</strong></slot>\n    </summary>\n    <article>\n      <slot name=\"content\">\n        <div v-html=\"content\"></div>\n      </slot>\n    </article>\n    <div class=\"footer\">\n    <slot name=\"actions\"></slot>\n    </div>\n  </details>\n</template>\n\n<style lang=\"less\">\ndetails.expansion-panel {\n  background: #00000080;\n  background: rgba(var(--v-theme-surface-variant), .7);\n  color: inherit;\n  font: inherit;\n  cursor: pointer;\n  border: 1px solid rgba(255,255,255, 0.3);\n  padding: 10px 15px;\n  border-radius: 5px;\n  backdrop-filter: blur(5px);\n}\ndetails.expansion-panel > summary {\n  list-style-position: outside;\n  margin-left: 1em;\n  // padding: 0.5em 0.5em;\n  border-radius: 5px;\n}\n\ndetails.expansion-panel .footer {\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  gap: 10px;\n}\n</style>\n","import script from \"./ExpansionWrapper.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ExpansionWrapper.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ExpansionWrapper.vue?vue&type=style&index=0&id=2f9bf542&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, mergeProps as _mergeProps, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"infobox\" }\nconst _hoisted_2 = [\"innerHTML\"]\nconst _hoisted_3 = [\"innerHTML\"]\n\nimport { Place } from \"@wwtelescope/engine\";\n\ninterface Props {\n  place: Place | null;\n  showReadMore?: boolean;\n  small?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Infobox',\n  props: {\n    place: {},\n    showReadMore: { type: Boolean, default: true },\n    small: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_expansion_wrapper = _resolveComponent(\"expansion-wrapper\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.small)\n      ? (_openBlock(), _createBlock(_component_v_overlay, {\n          key: 0,\n          absolute: \"\",\n          opacity: \"0.6\",\n          class: \"infobox-overlay\",\n          scrim: \"#00000030\"\n        }, {\n          activator: _withCtx(({ props: activatorProps }) => [\n            _createElementVNode(\"strong\", _mergeProps(activatorProps, { class: \"infobox-mobile infobox-activator\" }), _toDisplayString(_ctx.place?.get_name()), 17)\n          ]),\n          default: _withCtx(() => [\n            _createElementVNode(\"article\", {\n              class: \"infobox-mobile infobox-content\",\n              innerHTML: _ctx.place?.htmlDescription\n            }, null, 8, _hoisted_2)\n          ]),\n          _: 1\n        }))\n      : (_ctx.place != null)\n        ? (_openBlock(), _createBlock(_component_expansion_wrapper, {\n            key: 1,\n            class: \"infobox-content\",\n            \"normally-open\": false,\n            title: _ctx.place.get_name()\n          }, {\n            content: _withCtx(() => [\n              _createElementVNode(\"div\", {\n                innerHTML: _ctx.place.htmlDescription\n              }, null, 8, _hoisted_3)\n            ]),\n            _: 1\n          }, 8, [\"title\"]))\n        : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"infobox\">\n    <v-overlay\n      v-if=\"small\"\n      absolute\n      opacity=\"0.6\"\n      class=\"infobox-overlay\"\n      scrim=\"#00000030\"\n    >\n      <template #activator=\"{ props: activatorProps }\">\n        <strong\n          v-bind=\"activatorProps\"\n          class=\"infobox-mobile infobox-activator\"\n        >\n          {{ place?.get_name() }}\n        </strong>\n      </template>\n      <template #default>\n        <article\n          class=\"infobox-mobile infobox-content\"\n          v-html=\"place?.htmlDescription\"\n        >\n        </article>\n      </template>\n    </v-overlay>\n    <expansion-wrapper\n      class=\"infobox-content\"\n      v-else-if=\"place != null\"\n      :normally-open=\"false\"\n      :title=\"place.get_name()\"\n    >\n      <template #content>\n        <div v-html=\"place.htmlDescription\"></div> \n      </template>\n    </expansion-wrapper>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Place } from \"@wwtelescope/engine\";\n\ninterface Props {\n  place: Place | null;\n  showReadMore?: boolean;\n  small?: boolean;\n}\n\nwithDefaults(defineProps<Props>(), {\n  showReadMore: true,\n  small: false,\n});\n</script>\n\n<style scoped lang=\"less\">\n.infobox-overlay {\n  align-items: center;\n  justify-content: center;\n  transition: width 0.5s, height 0.5s;\n}\n\n.infobox-activator {\n  pointer-events: auto;\n  user-select: none;\n  text-wrap: nowrap;;\n}\n\n.infobox-mobile {\n  background: #00000080;\n  background: rgba(var(--v-theme-surface-variant), .9);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n  padding: 5px;\n}\n\n.infobox-content {\n  pointer-events: auto;\n  overflow-y: auto;\n}\n\n.infobox-mobile.infobox-content {\n  margin: auto;\n  max-width: 75%;\n  max-height: 75vh;\n}\n</style>\n","import script from \"./Infobox.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Infobox.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Infobox.vue?vue&type=style&index=0&id=30a7683c&scoped=true&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30a7683c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { storeToRefs } from \"pinia\";\nimport { R2D } from \"@wwtelescope/astro\";\nimport { WWTControl } from \"@wwtelescope/engine\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\ntype Breakpoints = [number, number, string][];\n\ninterface ScalebarProps {\n  breakpoints: Breakpoints;\n  height?: number;\n  width?: number;\n  color?: string;\n  maxDeg?: number;\n  minDeg?: number;\n  visible?: boolean;\n  backgroundColor?: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Scalebar',\n  props: {\n    breakpoints: {},\n    height: { default: 20 },\n    width: { default: 1000 },\n    color: { default: \"white\" },\n    maxDeg: {},\n    minDeg: {},\n    visible: { type: Boolean, default: true },\n    backgroundColor: { default: \"rgba(33, 33, 33, 0.7)\" }\n  },\n  setup(__props: any) {\n\nconst text = ref<string | null>(null);\nconst root = ref<HTMLElement | null>(null);\nlet canvas: HTMLCanvasElement | null = null;\nlet context: CanvasRenderingContext2D | null = null;\nconst contentWidth = ref(0);\n\nconst store = engineStore();\nconst { raRad, decRad, zoomDeg, rollRad } = storeToRefs(store);\n\nconst props = __props;\n\nconst show = computed(() => props.visible && ((props.maxDeg == null) || zoomDeg.value < props.maxDeg));\n\nlet sortedBreakpoints: Breakpoints;\nupdateBreakpoints(props.breakpoints);\n\nfunction updateBreakpoints(newBreakpoints: Breakpoints) {\n  sortedBreakpoints = [...newBreakpoints];\n  sortedBreakpoints.sort((first, second) => second[0] - first[0]);\n}\n\nfunction update() {\n  if (!show.value) {\n    return;\n  }\n  const breakpoint = sortedBreakpoints.find(bkpt => zoomDeg.value / 6 > bkpt[0]);\n  if (!breakpoint) {\n    return;\n  }\n\n  const worldDistance = breakpoint[1];\n  text.value = breakpoint[2];\n\n  const screenPoint = store.findScreenPointForRADec({ ra: raRad.value * R2D + worldDistance, dec: decRad.value * R2D });\n  const renderContext = WWTControl.singleton.renderContext;\n  const center = { x: 0.5 * renderContext.width, y: 0.5 * renderContext.height };\n  const screenDistance = Math.sqrt((screenPoint.x - center.x) ** 2 + (screenPoint.y - center.y) ** 2);\n\n  canvas = getCanvas();\n  context = getContext();\n  if (!(context && canvas)) {\n    return;\n  }\n\n  const end = canvas.width - 5;\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  \n  const textElement = root.value?.querySelector(\"p\");\n  const width = Math.max(screenDistance, textElement?.clientWidth || 200) + 20;\n  contentWidth.value = width;\n\n  context.strokeStyle = props.color;\n  context.lineWidth = 2;\n\n  const endcapBottom = 0.9 * canvas.height;\n  const endcapTop = 0.1 * canvas.height;\n\n  context.beginPath();\n  context.moveTo(end, endcapBottom);\n  context.lineTo(end, endcapTop);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(end - screenDistance, endcapBottom);\n  context.lineTo(end - screenDistance, endcapTop);\n  context.stroke();\n\n  const midpointY = 0.5 * canvas.height;\n  context.beginPath();\n  context.moveTo(end - screenDistance, midpointY);\n  context.lineTo(end, midpointY);\n  context.stroke();\n}\n\nfunction getCanvas(): HTMLCanvasElement | null {\n  if (!canvas) {\n    const rootElement = root.value;\n    canvas = (rootElement?.querySelector(\".scalebar-canvas\") as HTMLCanvasElement) ?? null;\n  }\n  return canvas;\n}\n\nfunction getContext(): CanvasRenderingContext2D  | null {\n  return context ?? getCanvas()?.getContext(\"2d\") ?? null;\n}\n\nfunction setCanvasDimensions() {\n  canvas = getCanvas();\n  if (canvas) {\n    canvas.style.width = `${props.width}px`;\n    canvas.width = props.width;\n    canvas.style.height = `${props.height}px`;\n    canvas.height = props.height;\n  }\n}\n\nconst cssVars = computed(() => ({\n  \"--color\": props.color,\n  \"--bg-color\": props.backgroundColor,\n  \"--content-width\": `${contentWidth.value}px`,\n}));\n\nonMounted(() => {\n  setCanvasDimensions();\n  context = getContext();\n});\n\nwatch(() => [raRad.value, decRad.value, zoomDeg.value, rollRad.value], (_position) => {\n  update();\n});\n\nwatch(show, (value: boolean) => {\n  if (value) {\n    update();\n  }\n});\n\nwatch(() => props.breakpoints, updateBreakpoints);\nwatch(() => [props.color, props.backgroundColor], (_values) => update());\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    ref_key: \"root\",\n    ref: root,\n    class: \"scalebar-root\",\n    style: _normalizeStyle(cssVars.value)\n  }, [\n    _cache[0] || (_cache[0] = _createElementVNode(\"canvas\", { class: \"scalebar-canvas\" }, null, -1)),\n    _createElementVNode(\"p\", null, _toDisplayString(text.value), 1),\n    _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"scalebar-bg\" }, null, -1))\n  ], 4)), [\n    [_vShow, show.value]\n  ])\n}\n}\n\n})","<template>\n  <div\n    v-show=\"show\"\n    ref=\"root\"\n    class=\"scalebar-root\"\n    :style=\"cssVars\"\n  >\n    <canvas class=\"scalebar-canvas\"></canvas>\n    <p>{{ text }}</p>\n    <div class=\"scalebar-bg\"></div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { storeToRefs } from \"pinia\";\nimport { R2D } from \"@wwtelescope/astro\";\nimport { WWTControl } from \"@wwtelescope/engine\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\ntype Breakpoints = [number, number, string][];\n\ninterface ScalebarProps {\n  breakpoints: Breakpoints;\n  height?: number;\n  width?: number;\n  color?: string;\n  maxDeg?: number;\n  minDeg?: number;\n  visible?: boolean;\n  backgroundColor?: string;\n}\n\nconst text = ref<string | null>(null);\nconst root = ref<HTMLElement | null>(null);\nlet canvas: HTMLCanvasElement | null = null;\nlet context: CanvasRenderingContext2D | null = null;\nconst contentWidth = ref(0);\n\nconst store = engineStore();\nconst { raRad, decRad, zoomDeg, rollRad } = storeToRefs(store);\n\nconst props = withDefaults(defineProps<ScalebarProps>(), {\n  height: 20,\n  width: 1000,\n  color: \"white\",\n  visible: true,\n  backgroundColor: \"rgba(33, 33, 33, 0.7)\",\n});\n\nconst show = computed(() => props.visible && ((props.maxDeg == null) || zoomDeg.value < props.maxDeg));\n\nlet sortedBreakpoints: Breakpoints;\nupdateBreakpoints(props.breakpoints);\n\nfunction updateBreakpoints(newBreakpoints: Breakpoints) {\n  sortedBreakpoints = [...newBreakpoints];\n  sortedBreakpoints.sort((first, second) => second[0] - first[0]);\n}\n\nfunction update() {\n  if (!show.value) {\n    return;\n  }\n  const breakpoint = sortedBreakpoints.find(bkpt => zoomDeg.value / 6 > bkpt[0]);\n  if (!breakpoint) {\n    return;\n  }\n\n  const worldDistance = breakpoint[1];\n  text.value = breakpoint[2];\n\n  const screenPoint = store.findScreenPointForRADec({ ra: raRad.value * R2D + worldDistance, dec: decRad.value * R2D });\n  const renderContext = WWTControl.singleton.renderContext;\n  const center = { x: 0.5 * renderContext.width, y: 0.5 * renderContext.height };\n  const screenDistance = Math.sqrt((screenPoint.x - center.x) ** 2 + (screenPoint.y - center.y) ** 2);\n\n  canvas = getCanvas();\n  context = getContext();\n  if (!(context && canvas)) {\n    return;\n  }\n\n  const end = canvas.width - 5;\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  \n  const textElement = root.value?.querySelector(\"p\");\n  const width = Math.max(screenDistance, textElement?.clientWidth || 200) + 20;\n  contentWidth.value = width;\n\n  context.strokeStyle = props.color;\n  context.lineWidth = 2;\n\n  const endcapBottom = 0.9 * canvas.height;\n  const endcapTop = 0.1 * canvas.height;\n\n  context.beginPath();\n  context.moveTo(end, endcapBottom);\n  context.lineTo(end, endcapTop);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(end - screenDistance, endcapBottom);\n  context.lineTo(end - screenDistance, endcapTop);\n  context.stroke();\n\n  const midpointY = 0.5 * canvas.height;\n  context.beginPath();\n  context.moveTo(end - screenDistance, midpointY);\n  context.lineTo(end, midpointY);\n  context.stroke();\n}\n\nfunction getCanvas(): HTMLCanvasElement | null {\n  if (!canvas) {\n    const rootElement = root.value;\n    canvas = (rootElement?.querySelector(\".scalebar-canvas\") as HTMLCanvasElement) ?? null;\n  }\n  return canvas;\n}\n\nfunction getContext(): CanvasRenderingContext2D  | null {\n  return context ?? getCanvas()?.getContext(\"2d\") ?? null;\n}\n\nfunction setCanvasDimensions() {\n  canvas = getCanvas();\n  if (canvas) {\n    canvas.style.width = `${props.width}px`;\n    canvas.width = props.width;\n    canvas.style.height = `${props.height}px`;\n    canvas.height = props.height;\n  }\n}\n\nconst cssVars = computed(() => ({\n  \"--color\": props.color,\n  \"--bg-color\": props.backgroundColor,\n  \"--content-width\": `${contentWidth.value}px`,\n}));\n\nonMounted(() => {\n  setCanvasDimensions();\n  context = getContext();\n});\n\nwatch(() => [raRad.value, decRad.value, zoomDeg.value, rollRad.value], (_position) => {\n  update();\n});\n\nwatch(show, (value: boolean) => {\n  if (value) {\n    update();\n  }\n});\n\nwatch(() => props.breakpoints, updateBreakpoints);\nwatch(() => [props.color, props.backgroundColor], (_values) => update());\n</script>\n\n<style scoped lang=\"less\">\n.scalebar-root {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 5px;\n  margin-right: 10px;\n  margin-bottom: 5px;\n  contain: layout;\n\n  p {\n    background: transparent;\n    color: var(--color);\n    z-index: 1;\n  }\n\n  canvas {\n    z-index: 1;\n  }\n\n  .scalebar-bg {\n    background: var(--bg-color);\n    width: var(--content-width);\n    height: 100%;\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 0;\n    border-radius: 11px;\n  }\n\n}\n</style>\n","import script from \"./Scalebar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Scalebar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Scalebar.vue?vue&type=style&index=0&id=6b9ed66c&scoped=true&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b9ed66c\"]])\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, unref as _unref, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@/assets/RubinLogo250.png'\n\n\nconst _hoisted_1 = { id: \"first-splash-row\" }\nconst _hoisted_2 = {\n  id: \"splash-screen-text\",\n  class: \"mb-2\"\n}\nconst _hoisted_3 = { class: \"highlight\" }\nconst _hoisted_4 = {\n  href: \"http://rubinobservatory.org/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}\nconst _hoisted_5 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_6 = { id: \"splash-screen-logos\" }\n\nimport { computed } from 'vue';\nimport { FocusTrap } from \"focus-trap-vue\";\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SplashScreen',\n  props: /*@__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) },\n    title: {},\n    color: {},\n    highlightColor: {}\n  }, {\n    \"modelValue\": { default: true },\n    \"modelModifiers\": {},\n  }),\n  emits: /*@__PURE__*/_mergeModels(['close'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = __emit;\n\nconst showSplashScreen = _useModel(__props, \"modelValue\");\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nif (!splash) {\n  showSplashScreen.value = false;\n}\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createBlock(_component_v_overlay, {\n    \"model-value\": showSplashScreen.value,\n    absolute: \"\",\n    opacity: \"0.6\",\n    style: _normalizeStyle(cssVars.value),\n    id: \"splash-overlay\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(FocusTrap), null, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            id: \"splash-screen\",\n            style: _normalizeStyle(cssVars.value)\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"close-splash-button\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                icon: \"xmark\",\n                tabindex: \"0\"\n              }),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _cache[0] || (_cache[0] = _createElementVNode(\"p\", null, \"See the\", -1)),\n                _createElementVNode(\"p\", _hoisted_3, [\n                  _createElementVNode(\"a\", _hoisted_4, _toDisplayString(_ctx.title), 1)\n                ]),\n                _cache[1] || (_cache[1] = _createTextVNode(\" Images! \"))\n              ])\n            ]),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_v_btn, {\n                class: \"splash-get-started\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                color: \"secondary\",\n                density: _ctx.$vuetify.display.xs ? 'compact' : 'default',\n                size: _ctx.$vuetify.display.width < 250 ? 'large' : 'x-large',\n                variant: \"elevated\",\n                rounded: \"lg\"\n              }, {\n                default: _withCtx(() => _cache[2] || (_cache[2] = [\n                  _createTextVNode(\" Get Started \")\n                ])),\n                _: 1,\n                __: [2]\n              }, 8, [\"density\", \"size\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createVNode(_component_credit_logos, {\n                  id: \"splash-screen-credit-logos\",\n                  \"logo-size\": \"5vmin\",\n                  \"default-logos\": ['cosmicds', 'wwt'],\n                  \"extra-logos\": [\n              {\n                alt: 'INTUITIVE Planetarium at the U.S. Space & Rocket Center',\n                src: './SpaceRocketCenterIntuitivePlanetarium-Logo-small.png',\n                href: 'https://www.rocketcenter.com/INTUITIVEPlanetarium',\n                name: 'INTUITIVE'\n              },\n            ]\n                }),\n                _cache[3] || (_cache[3] = _createElementVNode(\"a\", {\n                  href: \"https://rubinobservatory.org/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, [\n                  _createElementVNode(\"img\", {\n                    id: \"rubin-large-logo\",\n                    alt: \"Rubin Observatory Logo\",\n                    src: _imports_0\n                  })\n                ], -1))\n              ]),\n              _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, [\n                _createTextVNode(\" Brought to you by \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://www.rocketcenter.com/INTUITIVEPlanetarium\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, [\n                  _createElementVNode(\"em\", null, \"INTUITIVE\"),\n                  _createTextVNode(\" Planetarium at the U.S. Space & Rocket Center\")\n                ]),\n                _createTextVNode(\", \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"Cosmic Data Stories\"),\n                _createTextVNode(\" and \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://www.worldwidetelescope.org/home/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"WorldWide Telescope\"),\n                _createTextVNode(\" using the \\\"first look\\\" images from \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://rubinobservatory.org/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"Rubin Observatory\"),\n                _createTextVNode(\". \")\n              ], -1))\n            ])\n          ], 4)), [\n            [_directive_click_outside, closeSplashScreen]\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"style\"]))\n}\n}\n\n})","<template>\n  <v-overlay\n    :model-value=\"showSplashScreen\"\n    absolute\n    opacity=\"0.6\"\n    :style=\"cssVars\"\n    id=\"splash-overlay\"\n  >\n    <focus-trap>\n    <div\n      id=\"splash-screen\"\n      v-click-outside=\"closeSplashScreen\"\n      :style=\"cssVars\"\n    >\n      <div\n        id=\"first-splash-row\"\n      >\n        <font-awesome-icon\n          id=\"close-splash-button\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          icon=\"xmark\"\n          tabindex=\"0\"\n          />\n        <div id=\"splash-screen-text\" class=\"mb-2\">\n          <p>See the</p>\n          <p class=\"highlight\"><a href=\"http://rubinobservatory.org/\" target=\"_blank\" rel=\"noopener noreferrer\">{{ title }}</a></p>\n          Images!\n        </div>\n      </div>\n\n      <div>\n        <v-btn\n          class=\"splash-get-started\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          color=\"secondary\"\n          :density=\"$vuetify.display.xs ? 'compact' : 'default'\"\n          :size=\"$vuetify.display.width < 250 ? 'large' : 'x-large'\"\n          variant=\"elevated\"\n          rounded=\"lg\"\n        >\n          Get Started\n        </v-btn>\n      </div>\n    \n      <div id=\"splash-screen-acknowledgements\">\n        <div id=\"splash-screen-logos\">\n          <credit-logos\n            id=\"splash-screen-credit-logos\"\n            logo-size=\"5vmin\"\n            :default-logos=\"['cosmicds', 'wwt']\"\n            :extra-logos = \"[\n              {\n                alt: 'INTUITIVE Planetarium at the U.S. Space & Rocket Center',\n                src: './SpaceRocketCenterIntuitivePlanetarium-Logo-small.png',\n                href: 'https://www.rocketcenter.com/INTUITIVEPlanetarium',\n                name: 'INTUITIVE'\n              },\n            ]\"\n          />\n          <a href=\"https://rubinobservatory.org/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <img\n              id=\"rubin-large-logo\" \n              alt=\"Rubin Observatory Logo\"\n              src=\"@/assets/RubinLogo250.png\"\n            />\n          </a>\n        </div>\n\n        <span>\n        Brought to you by \n        <a href=\"https://www.rocketcenter.com/INTUITIVEPlanetarium\" target=\"_blank\" rel=\"noopener noreferrer\"><em>INTUITIVE</em>&reg; Planetarium at the U.S. Space & Rocket Center</a>, <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a> using the \"first look\" images from  <a href=\"https://rubinobservatory.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Rubin Observatory</a>.\n        </span>\n      </div>\n    </div>\n    </focus-trap>\n  </v-overlay>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { FocusTrap } from \"focus-trap-vue\";\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  cssVars: () => ({}),\n});\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = defineEmits(['close']);\n\nconst showSplashScreen = defineModel({ default: true });\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nif (!splash) {\n  showSplashScreen.value = false;\n}\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n</script>\n\n\n<style lang=\"less\">\n\n#splash-overlay {\n  align-items: center;\n  justify-content: center;\n  font-size: min(8vw, 5vh);\n  transition: width 0.5s, height 0.5s;\n}\n\n#splash-screen {\n  color: var(--rubin-gray-1);\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(70vw, 800px);\n  }\n\n  background: var(--rubin-teal-7);\n  justify-content: space-around;\n  align-content: center;\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  padding-inline: 2rem;\n\n  border-radius: 30px;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  font-family: 'Source Sans 3', 'Roboto', sans-serif;\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n\n  a {\n    color: var(--rubin-teal-2);\n  }\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Source Sans 3', 'Roboto', sans-serif;\n    font-weight: regular;\n    vertical-align: middle;\n    color: var(--rubin-gray-1);\n  }\n    \n  p.highlight {\n    color: var(--rubin-turquoise);\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n\n  \n  p.small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n  }\n\n  #first-splash-row {\n    width: 100%;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    text-align: end;\n    color: var(--button-color);\n    font-size: min(5vw, 4vh);\n    padding: 0.25rem;\n    margin: -0.25rem;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    line-height: 130%;\n    \n  }\n\n  .splash-get-started {\n    border: 2px solid white;\n    font-size: calc(1.8 * var(--default-font-size));\n    font-weight: bold !important;\n  }\n\n  #splash-screen-guide {\n    margin-block: 1.5em;\n    font-size: min(5vw, 4vh);\n    line-height: 140%;\n    width: 75%;\n\n    .v-col{\n      padding: 0;\n    }\n    \n    .svg-inline--fa {\n      color:var(--accent-color);\n      margin: 0 10px;\n    }\n  }\n\n  #splash-screen-acknowledgements {\n    // margin-top: 3rem;\n    margin: clamp(0.5rem, 3vh, 3rem) auto;\n    font-size: calc(var(--default-font-size));\n    line-height: calc(var(--default-line-height));\n    width: 80%; \n\n    @media only screen and (max-width: 600px) {\n      width: 80%;\n    }\n  }\n\n  #splash-screen-credit-logos {\n    img {\n    height: 65px;\n    vertical-align: middle;\n    margin-inline: 0.5em;\n    }\n\n    @media only screen and (max-width: 600px) {\n      img {\n        height: 40px;\n      }\n    }\n\n    svg {\n      vertical-align: middle;\n      height: 24px;\n    }\n  }\n}\n\n@media (max-height: 500px) {\n  #splash-screen {\n    // display: flex;\n    // flex-direction: column;\n    // max-width: 200vh;\n    // justify-content: center;\n    // align-items: center;\n    // gap: calc(0.5 * var(--default-line-height));\n    overflow: hidden;\n    \n  #splash-screen-text {\n    line-height: 75%;\n  }\n  \n  .splash-get-started {\n    margin-bottom: 0;\n  }\n  \n  #splash-screen-acknowledgements {\n    font-size: calc(1.5 * var(--default-font-size));\n  }\n}\n  \n}\n\n@media (max-height: 310px) {\n  #splash-screen {\n    width: 50vw;\n    padding-block: 10px;\n  }\n  #splash-screen-acknowledgements  {\n    display: none;\n  }\n}\n\n#rubin-large-logo {\n  height: 100px;\n}\n\n@media (min-width: 600px) {\n  #rubin-large-logo {\n    height: 200px;\n  }\n}\n\n</style>\n","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=44da47e3&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useSlots as _useSlots, defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withKeys as _withKeys, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"tracking-debug-circle tracked-element\"\n}\n\nimport { onMounted, ref, watch } from 'vue';\nimport { useTrackedElements, UseTrackedElementsReturn, TrackedHTMLElement } from '@/composables/useTrackedElements';\n\nimport { Place } from '@wwtelescope/engine';\nimport { engineStore } from '@wwtelescope/engine-pinia';\nimport { computed } from 'vue';\ninterface WWTEngineStore extends ReturnType<typeof engineStore> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  $wwt?: any;\n}\n\ntype Degree = number;\n// type Radian = number;\ntype HourAngle = number;\n// type Pixel = number;\ninterface WWTTrackedContentProps {\n  containerID?: string;\n  ra?: Degree;\n  dec?: Degree;\n  name?: string\n  place?: Place; // Optional place object, if needed\n  offsetRa?: Degree;\n  offsetDec?: Degree;\n  offsetX?: Degree; // Degree offset in the screen X direction\n  offsetY?: Degree; // Degree offset in the screen Y direction\n  store: WWTEngineStore;\n  visible?: boolean;\n  centerOnClick?: boolean;\n  zoomDeg?: Degree | null; // Optional zoom level, if needed\n  clickInstant?: boolean; // Optional, if you want to control the instant navigation\n  doubleClickInstant?: boolean; // Optional, if you want to control the instant navigation\n  goToPlace?: boolean; // Optional, if you want it to go to the place and ignore zoomDeg\n  debug?: boolean; // Optional, for debugging purposes\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'WWTTrackedContent',\n  props: {\n    containerID: { default: '' },\n    ra: {},\n    dec: {},\n    name: { default: 'default name' },\n    place: { default: undefined },\n    offsetRa: {},\n    offsetDec: {},\n    offsetX: {},\n    offsetY: {},\n    store: {},\n    visible: { type: Boolean, default: true },\n    centerOnClick: { type: Boolean, default: false },\n    zoomDeg: { default: null },\n    clickInstant: { type: Boolean, default: false },\n    doubleClickInstant: { type: Boolean, default: true },\n    goToPlace: { type: Boolean, default: false },\n    debug: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n//  eslint-disable @typescript-eslint/no-unused-vars \nconst D2R = Math.PI / 180;\n// const R2D = 180 / Math.PI;\nconst props = __props;\n\nconst ra = ref<number>(props.ra as unknown as number);\nconst dec = ref<number>(props.dec as unknown as number);\nconst name = ref(props.name);\nconst zoomDeg = computed(() => {\n  return props.zoomDeg !== null ? props.zoomDeg : props.store.zoomDeg;\n});\n\nif (props.place) {\n  const iset = props.place.get_backgroundImageset() ?? props.place.get_studyImageset();\n  \n  if (iset === null) {\n    console.warn(`Place ${props.place.get_name()} does not have a background or study imageset.`);\n  } else {\n    ra.value = (props.place.get_RA() as HourAngle) * 15 as Degree;\n    dec.value = props.place.get_dec();\n    name.value = props.name ?? iset.get_name();\n  }\n}\n\n\nconst ready = ref(false);\nconst parent = ref<HTMLElement | null>(null);\nconst trackedElement = ref<TrackedHTMLElement | null>(null);\n\nfunction goTo(instant=false) {\n  if (ready.value && trackedElement.value !== null) {\n    console.log(\"Current zoomDeg\", zoomDeg.value);\n    console.log(\"Current wwt zoomDeg\", props.store.zoomDeg);\n    if (props.place && props.goToPlace) {\n      props.store.gotoTarget({\n        place: props.place,\n        instant,\n        noZoom: false,\n        trackObject: true,\n      });\n      \n    } else if (ra.value && dec.value) {\n      props.store.gotoRADecZoom({\n        raRad: ra.value * (D2R), \n        decRad: dec.value * (D2R), \n        zoomDeg: zoomDeg.value,\n        instant: false,\n      });\n    }\n    \n  }\n}\n\nfunction onClick() {\n  if (props.centerOnClick && ready.value && trackedElement.value !== null) {\n    goTo(props.clickInstant);\n  }\n}\n\nfunction onDoubleClick() {\n  if (props.centerOnClick && ready.value && trackedElement.value !== null) {\n    goTo(props.doubleClickInstant);\n  }\n}\n\nconst ute = ref<UseTrackedElementsReturn | null>(null);\n\nconst _rot = computed(() => {\n  return {'sin': Math.sin(props.store.rollRad), 'cos': Math.cos(props.store.rollRad)};\n});\n\nif (props.offsetX !== undefined && props.offsetY !== undefined) {\n  console.error('While supported, I am not sure the he simple 2D rotation transforms for offsetX and offsetY are correct.');\n}\n\n\n// This will get\nconst offsetRA = ref<Degree>(props.offsetRa ?? 0);\nconst offsetDec = ref<Degree>(props.offsetDec ?? 0);\n\nif (props.offsetX !== undefined && props.offsetY !== undefined ) {\n  // throw and error and return if offsetX and offsetY are provided\n  console.error('offsetX and offsetY ARE not setup. Rotate the coordinates before passing them to the component.');\n  throw new Error('offsetX and offsetY are not supported yet. Please use offsetRa and offsetDec instead.');\n}\n\n\n// If we want it maintain the same orientation relative to the Screen we need to use this\n// const offsetRA = computed(() => {\n//   if (props.offsetX !== undefined && props.offsetY !== undefined ) {\n//     return (props.offsetX)  * rot.value.cos + props.offsetY * rot.value.sin;\n//   }\n//   return props.offsetRa ?? 0;\n// });\n\n// const offsetDec = computed(() => {\n//   if (props.offsetX !== undefined && props.offsetY !== undefined ) {\n//     return -(props.offsetX) * rot.value.sin + props.offsetY * rot.value.cos;\n//   }\n//   return props.offsetDec ?? 0;\n// });\n\nonMounted(() => {\n  props.store.waitForReady().then(() => {\n\n    \n    ute.value = useTrackedElements(props.containerID, props.store) as unknown as typeof ute.value;\n    if (!ute.value) {\n      console.error('useTrackedElements returned null');\n      return;\n    }\n    trackedElement.value = ute.value.placeElement(\n      parent.value as HTMLElement | null,\n      {\n        ra: ra.value + offsetRA.value,\n        dec: dec.value + offsetDec.value\n      },\n      name.value\n    );\n    updateVisibility(props.visible);\n  })\n    .then(() => {\n      ready.value = true;\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n});\n\nfunction updateVisibility(visible: boolean) {\n  const element = trackedElement.value;\n  if (element) {\n    element.style.visibility = visible ? \"visible\" : \"hidden\";\n  }\n}\n\nwatch(() => props.visible, updateVisibility);\n\nwatch(() => [props.ra, props.dec, offsetRA.value, offsetDec.value], ([newRa, newDec, newOffsetRA, newOffsetDec]) => {\n  if (!trackedElement.value) return;\n  trackedElement.value.move({\n    ra: (newRa ?? ra.value) + (newOffsetRA ?? offsetRA.value),\n    dec: (newDec ?? dec.value) + (newOffsetDec ?? offsetDec.value)\n  });\n  if (ready.value && ute.value) {\n    ute.value.updateElements();\n  }\n}, { immediate: true });\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst slots = _useSlots();\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"wwt-tracked-content\",\n    ref_key: \"parent\",\n    ref: parent,\n    tabindex: \"0\"\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {\n      on: {'click': onClick, 'onDoubleClick': onDoubleClick, 'keydown.enter': onClick},\n      ra: ra.value,\n      dec: dec.value,\n      _name: name.value,\n      offsetDec: offsetDec.value,\n      offsetRa: offsetRA.value\n    }, () => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass(['default-wwt-tracked-content-content', { debug: _ctx.debug }]),\n        onClick: onClick,\n        onDblclick: onDoubleClick,\n        onKeydown: _withKeys(onClick, [\"enter\"])\n      }, null, 34)\n    ]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n      : _createCommentVNode(\"\", true)\n  ], 512))\n}\n}\n\n})","<script setup lang=\"ts\">\n//  eslint-disable @typescript-eslint/no-unused-vars \nimport { onMounted, ref, watch } from 'vue';\nimport { useTrackedElements, UseTrackedElementsReturn, TrackedHTMLElement } from '@/composables/useTrackedElements';\n\nimport { Place } from '@wwtelescope/engine';\nimport { engineStore } from '@wwtelescope/engine-pinia';\nimport { computed } from 'vue';\ninterface WWTEngineStore extends ReturnType<typeof engineStore> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  $wwt?: any;\n}\n\ntype Degree = number;\n// type Radian = number;\ntype HourAngle = number;\n// type Pixel = number;\nconst D2R = Math.PI / 180;\n// const R2D = 180 / Math.PI;\ninterface WWTTrackedContentProps {\n  containerID?: string;\n  ra?: Degree;\n  dec?: Degree;\n  name?: string\n  place?: Place; // Optional place object, if needed\n  offsetRa?: Degree;\n  offsetDec?: Degree;\n  offsetX?: Degree; // Degree offset in the screen X direction\n  offsetY?: Degree; // Degree offset in the screen Y direction\n  store: WWTEngineStore;\n  visible?: boolean;\n  centerOnClick?: boolean;\n  zoomDeg?: Degree | null; // Optional zoom level, if needed\n  clickInstant?: boolean; // Optional, if you want to control the instant navigation\n  doubleClickInstant?: boolean; // Optional, if you want to control the instant navigation\n  goToPlace?: boolean; // Optional, if you want it to go to the place and ignore zoomDeg\n  debug?: boolean; // Optional, for debugging purposes\n}\n\nconst props = withDefaults(defineProps<WWTTrackedContentProps>(), {\n  visible: true,\n  containerID: '',\n  centerOnClick: false,\n  zoomDeg: null, // use current zoom level if not provided\n  clickInstant: false,\n  doubleClickInstant: true,\n  place: undefined,\n  goToPlace: false,\n  debug: false,\n  name: 'default name',\n});\n\nconst ra = ref<number>(props.ra as unknown as number);\nconst dec = ref<number>(props.dec as unknown as number);\nconst name = ref(props.name);\nconst zoomDeg = computed(() => {\n  return props.zoomDeg !== null ? props.zoomDeg : props.store.zoomDeg;\n});\n\nif (props.place) {\n  const iset = props.place.get_backgroundImageset() ?? props.place.get_studyImageset();\n  \n  if (iset === null) {\n    console.warn(`Place ${props.place.get_name()} does not have a background or study imageset.`);\n  } else {\n    ra.value = (props.place.get_RA() as HourAngle) * 15 as Degree;\n    dec.value = props.place.get_dec();\n    name.value = props.name ?? iset.get_name();\n  }\n}\n\n\nconst ready = ref(false);\nconst parent = ref<HTMLElement | null>(null);\nconst trackedElement = ref<TrackedHTMLElement | null>(null);\n\nfunction goTo(instant=false) {\n  if (ready.value && trackedElement.value !== null) {\n    console.log(\"Current zoomDeg\", zoomDeg.value);\n    console.log(\"Current wwt zoomDeg\", props.store.zoomDeg);\n    if (props.place && props.goToPlace) {\n      props.store.gotoTarget({\n        place: props.place,\n        instant,\n        noZoom: false,\n        trackObject: true,\n      });\n      \n    } else if (ra.value && dec.value) {\n      props.store.gotoRADecZoom({\n        raRad: ra.value * (D2R), \n        decRad: dec.value * (D2R), \n        zoomDeg: zoomDeg.value,\n        instant: false,\n      });\n    }\n    \n  }\n}\n\nfunction onClick() {\n  if (props.centerOnClick && ready.value && trackedElement.value !== null) {\n    goTo(props.clickInstant);\n  }\n}\n\nfunction onDoubleClick() {\n  if (props.centerOnClick && ready.value && trackedElement.value !== null) {\n    goTo(props.doubleClickInstant);\n  }\n}\n\nconst ute = ref<UseTrackedElementsReturn | null>(null);\n\nconst _rot = computed(() => {\n  return {'sin': Math.sin(props.store.rollRad), 'cos': Math.cos(props.store.rollRad)};\n});\n\nif (props.offsetX !== undefined && props.offsetY !== undefined) {\n  console.error('While supported, I am not sure the he simple 2D rotation transforms for offsetX and offsetY are correct.');\n}\n\n\n// This will get\nconst offsetRA = ref<Degree>(props.offsetRa ?? 0);\nconst offsetDec = ref<Degree>(props.offsetDec ?? 0);\n\nif (props.offsetX !== undefined && props.offsetY !== undefined ) {\n  // throw and error and return if offsetX and offsetY are provided\n  console.error('offsetX and offsetY ARE not setup. Rotate the coordinates before passing them to the component.');\n  throw new Error('offsetX and offsetY are not supported yet. Please use offsetRa and offsetDec instead.');\n}\n\n\n// If we want it maintain the same orientation relative to the Screen we need to use this\n// const offsetRA = computed(() => {\n//   if (props.offsetX !== undefined && props.offsetY !== undefined ) {\n//     return (props.offsetX)  * rot.value.cos + props.offsetY * rot.value.sin;\n//   }\n//   return props.offsetRa ?? 0;\n// });\n\n// const offsetDec = computed(() => {\n//   if (props.offsetX !== undefined && props.offsetY !== undefined ) {\n//     return -(props.offsetX) * rot.value.sin + props.offsetY * rot.value.cos;\n//   }\n//   return props.offsetDec ?? 0;\n// });\n\nonMounted(() => {\n  props.store.waitForReady().then(() => {\n\n    \n    ute.value = useTrackedElements(props.containerID, props.store) as unknown as typeof ute.value;\n    if (!ute.value) {\n      console.error('useTrackedElements returned null');\n      return;\n    }\n    trackedElement.value = ute.value.placeElement(\n      parent.value as HTMLElement | null,\n      {\n        ra: ra.value + offsetRA.value,\n        dec: dec.value + offsetDec.value\n      },\n      name.value\n    );\n    updateVisibility(props.visible);\n  })\n    .then(() => {\n      ready.value = true;\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n});\n\nfunction updateVisibility(visible: boolean) {\n  const element = trackedElement.value;\n  if (element) {\n    element.style.visibility = visible ? \"visible\" : \"hidden\";\n  }\n}\n\nwatch(() => props.visible, updateVisibility);\n\nwatch(() => [props.ra, props.dec, offsetRA.value, offsetDec.value], ([newRa, newDec, newOffsetRA, newOffsetDec]) => {\n  if (!trackedElement.value) return;\n  trackedElement.value.move({\n    ra: (newRa ?? ra.value) + (newOffsetRA ?? offsetRA.value),\n    dec: (newDec ?? dec.value) + (newOffsetDec ?? offsetDec.value)\n  });\n  if (ready.value && ute.value) {\n    ute.value.updateElements();\n  }\n}, { immediate: true });\n\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst slots = defineSlots<{\n  default: { \n    on: {\n      click: (event: MouseEvent) => void,\n      'keydown.enter': (event: KeyboardEvent) => void\n    },\n  };\n}>();\n\n\n</script>\n\n<template>\n  <div \n    class=\"wwt-tracked-content\" \n    ref=\"parent\" \n    tabindex=\"0\" \n\n    >\n    <slot \n      :on=\"{'click': onClick, 'onDoubleClick': onDoubleClick, 'keydown.enter': onClick}\" \n      :ra=\"ra\" \n      :dec=\"dec\" \n      :_name=\"name\"\n      :offsetDec=\"offsetDec\" \n      :offsetRa=\"offsetRA\"\n      >\n      <div \n        :class=\"['default-wwt-tracked-content-content', { debug: debug }]\" \n        @click=\"onClick\" \n        @dblclick=\"onDoubleClick\" \n        @keydown.enter=\"onClick\"\n      >\n      </div>\n    </slot>\n    <div v-if=\"debug\" class=\"tracking-debug-circle tracked-element\" ></div>\n      \n  </div>\n</template>\n\n<style lang=\"less\">\n.wwt-tracked-content {\n  pointer-events: auto;\n  user-select: none;\n  cursor: pointer;\n}\n\n.wwt-tracked-content.debug {\n  outline: 1px solid red;\n}\n\n.default-wwt-tracked-content-content {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n.tracking-debug-circle {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background-color: transparent;\n  border: 2px solid red;\n  transform: translate(-50%, -50%);\n}\n\n</style>\n","import script from \"./WWTTrackedContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./WWTTrackedContent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./WWTTrackedContent.vue?vue&type=style&index=0&id=589ebd3c&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport { FundingAcknowledgement, IconButton, CreditLogos } from \"@cosmicds/vue-toolkit\";\nimport RubinFirstLook from \"./RubinFirstLook.vue\";\nimport FolderView from \"./components/FolderView.vue\";\nimport ExpansionWrapper from \"./components/ExpansionWrapper.vue\";\nimport Infobox from \"./components/Infobox.vue\";\nimport Scalebar from \"./components/Scalebar.vue\";\nimport SplashScreen from \"./components/SplashScreen.vue\";\nimport WWTTrackedContent from \"./components/WWTTrackedContent.vue\";\nimport vuetify from \"../plugins/vuetify\";\n\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faChevronDown,\n  faChevronUp,\n  faCompress,\n  faExpand,\n  faInfo,\n  faSliders,\n  faTimes,\n  faVideo,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faChevronDown);\nlibrary.add(faChevronUp);\nlibrary.add(faCompress);\nlibrary.add(faExpand);\nlibrary.add(faInfo);\nlibrary.add(faSliders);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(RubinFirstLook, {\n  wwtNamespace: \"rubin-first-look\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('splash-screen', SplashScreen)\n  .component('folder-view', FolderView)\n  .component('expansion-wrapper', ExpansionWrapper)\n  .component('infobox', Infobox)\n  .component('wwt-tracked-content', WWTTrackedContent)\n  .component('scalebar', Scalebar)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_rubin_first_look\"] = self[\"webpackChunk_cosmicds_rubin_first_look\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(3976)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["useFullscreen","fullscreenModeActive","update","_event","value","screenfull","isFullscreen","isEnabled","on","off","active","request","exit","RUBIN_COLORS","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","themes","rubinA","dark","colors","primaryVariant","primary","background","surface","info","accent","rubinB","checkPointContainedByDiv","point","divRect","x","left","right","y","top","bottom","window","innerWidth","innerHeight","resolveElement","el","foundElement","document","getElementById","console","warn","HTMLElement","wwtReady","waitForWWTReady","store","Promise","waitForReady","then","WWTControl","singleton","renderOneFrame","instance","useTrackedElements","parentID","parentElement","ready","trackedElements","parentElementRect","resizeObserver","updateOffScreenElements","elementVisibilityCache","Map","observer","MutationObserver","forEach","visibility","name","getElementByName","style","delete","initializeParentElement","element","error","$wwt","inst","ctl","canvas","getMarkerLayer","addTrackedElement","push","applyUniformStyles","position","transformOrigin","move","pt","trackedData","ra","dec","screenPos","findScreenPointForRADec","updateElementScreenPosition","placeElement","_el","classList","add","dataset","_createElement","tag","marker","createElement","createTrackedElement","validName","replace","screenX","toString","screenY","getScreenPositionAndVisibility","screen","visible","updateElements","onscreen","display","removeTrackedElement","index","indexOf","splice","remove","find","hideElementByName","set","showElementByName","moveElementByName","newElement","getBoundingClientRect","raRad","decRad","zoomDeg","rollRad","ResizeObserver","observe","body","childList","subtree","disconnect","copyPlace","originalPlace","copiedPlace","Place","createCameraParams","get_name","get_camParams","copy","get_classification","get_constellation","get_type","get_target","set_zoomLevel","get_zoomLevel","set_studyImageset","get_studyImageset","set_backgroundImageset","get_backgroundImageset","set_annotation","get_annotation","set_magnitude","get_magnitude","set_distance","get_distance","set_lat","get_lat","set_lng","get_lng","set_opacity","get_opacity","_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","key","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","imageAPlacesURL","imageBPlacesURL","INFOBOX_ZOOM_CUTOFF","SMALL_LABELS_ZOOM","infoFraction","__name","props","wwtNamespace","default","initialCameraParams","setup","__props","engineStore","useWWTKeyboardControls","fullscreen","touchscreen","supportsTouchscreen","breakpoints","smallSize","smAndDown","height","width","backgroundImagesets","sheet","layersLoaded","positionSet","zooming","opacity","zoomTimeout","accentColor","global","current","buttonColor","thumbnailColor","highlightColor","textColor","tab","selectedItem","lowerLevelPlaces","topLevelPlaces","highlightsA","Folder","highlightsB","currentPlace","mainImageInView","mode","folder","imagesLoaded","circle","showOptions","showCircle","showLabels","showScalebar","showSlider","showConstellations","highlightPlaceFromZoom","showPlaceHighlights","showTextSheet","atTopLevel","offsets","rotateOffsetToScreen","offset","cosRoll","Math","cos","rollDeg","sinRoll","sin","raOff","decOff","fetch","response","json","data","keys","Object","catch","showComingSoon","findClosest","places","closest","closestDist","distanceFromCenter","place","dist","isNaN","placeInView","newValue","immediate","skyBackgroundImagesets","iset","loadPromises","map","url","loadImageCollection","loadChildFolders","all","loadedFolders","loadedFolder","children","get_children","highlightsFolder","item","addChildPlace","get_names","length","highlightsRef","loaded","i","gotoMainImage","bgFolder","Imageset","setBackgroundImageByName","updateClosestPlace","closestPlace","forceShowCircle","updateCircle","Circle","set_id","set_lineWidth","set_lineColor","set_skyRelative","addAnnotation","setCenter","get_RA","get_dec","set_radius","angularSize","image","instant","zoomLevelForPlace","gotoTarget","noZoom","trackObject","wwtSmallestFov","renderContext","fovH","get_fovAngle","fovW","min","fraction","isetFov","curFov","handleSelection","selection","setForegroundImageByName","type","get_dataSetType","planet","imageset","isLoading","infoSheetLocation","infoSheetHeight","infoSheetWidth","infoTextHeight","infoSheetTransition","cssVars","rubinColors","reduce","acc","get","_value","selectSheet","showVideoSheet","video","querySelector","pause","closeSplashScreen","sheetType","blurActiveElement","onMove","onZoomChange","newZoom","oldZoom","abs","setTimeout","clearTimeout","_ra","_dec","_show","show","applySetting","newMode","setForegroundOpacity","_ctx","_cache","_component_WorldWideTelescope","_component_wwt_tracked_content","_component_splash_screen","_component_font_awesome_icon","_component_folder_view","_component_icon_button","_component_scalebar","_component_credit_logos","_component_infobox","_component_funding_acknowledgement","_directive_hide","_","title","header","toggleExpanded","expanded","icon","tabindex","modelValue","$event","max","color","prepend","append","foregroundImageset","border","label","density","alt","src","href","small","size","transition","frameborder","allow","referrerpolicy","allowfullscreen","persistent","absolute","scrim","location","dense","__","some","target","rel","align","cols","outlined","every","__exports__","rootFolder","flexDirection","gap","backgroundColor","startExpanded","Boolean","emits","__emit","items","lastSelectedItem","emit","updateFolder","folderItems","filter","firstItem","FolderUp","selectItem","role","get_thumbnailUrl","content","normallyOpen","open","showReadMore","_component_expansion_wrapper","activator","activatorProps","htmlDescription","maxDeg","minDeg","sortedBreakpoints","text","root","context","contentWidth","updateBreakpoints","newBreakpoints","sort","first","second","breakpoint","bkpt","worldDistance","screenPoint","center","screenDistance","sqrt","getCanvas","getContext","end","clearRect","textElement","clientWidth","strokeStyle","lineWidth","endcapBottom","endcapTop","beginPath","moveTo","lineTo","stroke","midpointY","rootElement","setCanvasDimensions","_position","_values","ref_key","ref","showSplashScreen","splash","URLSearchParams","search","toLowerCase","$vuetify","xs","variant","rounded","containerID","undefined","offsetRa","offsetDec","offsetX","offsetY","centerOnClick","clickInstant","doubleClickInstant","goToPlace","debug","D2R","PI","parent","trackedElement","goTo","log","gotoRADecZoom","onClick","onDoubleClick","ute","offsetRA","Error","updateVisibility","newRa","newDec","newOffsetRA","newOffsetDec","_name","binding","RubinFirstLook","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","IconButton","FundingAcknowledgement","CreditLogos","SplashScreen","FolderView","ExpansionWrapper","Infobox","WWTTrackedContent","Scalebar","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","r","d","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}